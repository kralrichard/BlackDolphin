<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <!-- Mobil uyumluluk -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Oyun ve G√∂rev Ekranƒ±</title>
  <style>
    /* Genel stiller */
    * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
    body { background: #888; color: #f1f1f1; min-height: 100vh; padding-top: 120px; font-size: 0.9rem; }
    header { background: rgba(0,0,0,0.85); display: flex; justify-content: space-between; align-items: center; padding: 1rem 2rem; position: fixed; top: 0; left: 0; width: 100%; z-index: 999; box-shadow: 0 2px 5px rgba(0,0,0,0.5); }
    .logo { font-size: 2rem; font-weight: bold; text-transform: uppercase; color: #fff; }
    .money { font-size: 1rem; background: #222; padding: 0.5rem 1rem; border-radius: 5px; border: 1px solid #333; }
    #money { color: green !important; }
    /* Renk sƒ±nƒ±flarƒ± */
    .vakur-color { color: blue !important; }
    .hatip-color { color: orange !important; }
    .baron-color { color: red !important; }
    /* Ana sayfa d√ºzeni */
    #mainPage { width: 100%; min-height: 100vh; position: relative; }
    /* Sol panel */
    #leftPanel { position: fixed; top: 120px; left: 20px; width: 280px; z-index: 1000; }
    .sectionBox { background: rgba(0,0,0,0.6); margin-bottom: 1rem; border-radius: 10px; padding: 1rem; }
    .tab-content { display: none; background: rgba(0,0,0,0.4); border-radius: 5px; padding: 0.5rem; margin-top: 0.5rem; }
    .tab-content.active { display: block; }
    /* Saƒü panel */
    #rightContainer { position: fixed; right: 20px; top: 140px; width: 280px; z-index: 1000; }
    #koyIncelemeBox, #trenSeyahatBox { background: rgba(0,0,0,0.7); padding: 1rem; border-radius: 10px; margin-bottom: 1rem; }
    /* Orta panel (rank kartlarƒ±) */
    #centerRanks { position: absolute; top: 140px; left: 50%; transform: translateX(-50%); display: flex; gap: 20px; z-index: 900; background: grey; padding: 10px; border-radius: 10px; }
    .card { background: rgba(255,255,255,0.05); backdrop-filter: blur(4px); border: 1px solid rgba(255,255,255,0.1); border-radius: 10px; width: 250px; padding: 2rem; text-align: center; transition: transform 0.3s ease; box-shadow: 0 2px 5px rgba(0,0,0,0.3); cursor: pointer; }
    .card:hover { transform: translateY(-5px); }
    /* Kartlardaki rol isimleri: b√ºy√ºk harflerle ve biraz yukarƒ± kaydƒ±rƒ±ldƒ± */
    #cardVakur h2, #cardHatip h2, #cardBaron h2 { text-transform: uppercase; margin-top: -10px; margin-bottom: 15px; font-size: 1.5rem; }
    /* Epistemolojik Ser√ºven butonlarƒ±: arka plan siyah, yazƒ± beyaz; buton ile rol metni arasƒ±na bo≈üluk */
    .card button { padding: 0.6rem 1.2rem; background: black; border: none; border-radius: 5px; color: white; cursor: pointer; transition: background 0.3s; margin-top: 15px; }
    .card button:hover { background: #333; }
    /* Alt sol k√∂y bilgisi */
    #bottomLeft { position: fixed; bottom: 20px; left: 20px; font-size: 1.2rem; background: #0288d1; padding: 0.5rem 1rem; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.3); z-index: 1000; }
    /* G√∂rev sayfasƒ± */
    #gorevPage { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; color: #fff; z-index: 3000; padding: 2rem; overflow-y: auto; }
    #gorevPage h1 { text-align: center; margin-bottom: 1rem; }
    #tasksContainerWrapper { position: relative; overflow: hidden; padding: 0 40px; }
    #tasksContainer { display: flex; gap: 20px; overflow-x: auto; scroll-behavior: smooth; padding-bottom: 10px; }
    .rankSection { flex: 0 0 300px; border: 1px solid #888; padding: 1rem; border-radius: 10px; background: rgba(255,255,255,0.07); }
    .rankSection h2 { text-align: center; margin-bottom: 0.5rem; }
    /* Ok butonlarƒ± */
    .arrow-button { position: absolute; top: 50%; transform: translateY(-50%); background: rgba(0,0,0,0.5); border: none; color: #fff; font-size: 1.5rem; padding: 0.3rem 0.6rem; cursor: pointer; z-index: 101; transition: background 0.3s; }
    .arrow-button:hover { background: rgba(0,0,0,0.7); }
    #leftArrow { left: 5px; }
    #rightArrow { right: 5px; }
    /* Mobil uyumluluk */
    @media (max-width:768px){
      #leftPanel, #rightContainer { position: static; width: 100%; margin-bottom:20px; }
      #centerRanks { position: static; transform: none; margin:10px auto; flex-wrap: wrap; justify-content: center; }
      .card { width: 90%; margin:10px 0; }
    }
  </style>
</head>
<body>
  <!-- HEADER -->
  <header>
    <div class="logo">
      BLACK DOLPHINE
    </div>
    <div class="money"><span id="money">99999999</span></div>
  </header>
  
  <!-- ANA SAYFA -->
  <div id="mainPage">
    <!-- SOL PANEL: Durumum & T√ºccar -->
    <div id="leftPanel">
      <div class="sectionBox">
        <h2 onclick="toggleDurumum()">Durumum &#9660;</h2>
        <div id="durumumContent" class="tab-content">
          <div class="stat-bar" id="vakurStat">
            <div class="stat-label vakur-color">VAKUR üõ°Ô∏è</div>
            <div class="stat-fill" id="vakurFill"></div>
            <div class="stat-text" id="vakurText">Koruma: 0 (0%)</div>
            <div class="badge-indicator">
              <span style="display:inline-block;width:15px;height:15px;background:blue;border-radius:50%;margin-right:5px;"></span> R
            </div>
          </div>
          <div class="stat-bar lockedStat" id="hatipStat">
            <div class="stat-label hatip-color">HATƒ∞P üë•</div>
            <div class="stat-fill" id="hatipFill"></div>
            <div class="stat-text" id="hatipText">N√ºfus: 0 (0%)</div>
            <div class="badge-indicator">
              <span style="display:inline-block;width:15px;height:15px;background:orange;border-radius:50%;margin-right:5px;"></span> R
            </div>
          </div>
          <div class="stat-bar lockedStat" id="baronStat">
            <div class="stat-label baron-color">BARON ‚ôõ</div>
            <div class="stat-fill" id="baronFill"></div>
            <div class="stat-text" id="baronText">Etki: 0 (0%)</div>
            <div class="badge-indicator">
              <span style="display:inline-block;width:15px;height:15px;background:red;border-radius:50%;margin-right:5px;"></span> R
            </div>
          </div>
          <div id="profileInfo">K√∂y: <span id="currentVillageDisplay">Asman</span></div>
        </div>
      </div>
      <div class="sectionBox">
        <h2 onclick="toggleTuccar()">T√ºccar &#9660;</h2>
        <div id="tuccarContent" class="tab-content">
          <ul>
            <li><span>Silah (2500$)</span> <button onclick="buyItem('Silah',2500)">Satƒ±n Al</button></li>
            <li><span>Bomba (1000$)</span> <button onclick="buyItem('Bomba',1000)">Satƒ±n Al</button></li>
            <li><span>C4 (1500$)</span> <button onclick="buyItem('C4',1500)">Satƒ±n Al</button></li>
            <li><span>Villa (15000$)</span> <button onclick="buyItem('Villa',15000)">Satƒ±n Al</button></li>
            <li><span>Ev (10000$)</span> <button onclick="buyItem('Ev',10000)">Satƒ±n Al</button></li>
          </ul>
        </div>
      </div>
    </div>
    
    <!-- SAƒû PANEL: K√∂y ƒ∞ncelemesi & Trenle Seyehat -->
    <div id="rightContainer">
      <div id="koyIncelemeBox">
        <h3>K√∂y ƒ∞ncelemesi</h3>
        <ul id="koyIncelemeList"></ul>
        <div id="koyIncelemePagination"></div>
      </div>
      <div id="trenSeyahatBox">
        <h3>Trenle Seyehat</h3>
        <ul id="trenList"></ul>
        <div id="trenPagination"></div>
      </div>
    </div>
    
    <!-- ORTA PANEL: Rank Kartlarƒ± -->
    <div id="centerRanks">
      <div class="card" id="cardVakur">
        <h2 class="vakur-color">VAKUR</h2>
        <button onclick="openGorevPage('Vakur')">Epistemolojik Ser√ºven</button>
      </div>
      <div class="card locked" id="cardHatip">
        <h2 class="hatip-color">HATƒ∞P</h2>
        <button onclick="openGorevPage('Hatip')">Epistemolojik Ser√ºven</button>
      </div>
      <div class="card locked" id="cardBaron">
        <h2 class="baron-color">BARON</h2>
        <button onclick="openGorevPage('Baron')">Epistemolojik Ser√ºven</button>
      </div>
    </div>
  </div>
  
  <!-- G√ñREV SAYFASI (Overlay) -->
  <div id="gorevPage">
    <button onclick="closeGorevPage()">Geri D√∂n</button>
    <h1 id="gorevHeader"></h1>
    <!-- G√∂rev kutucuklarƒ±nƒ± yatay sƒ±ralamak i√ßin wrapper -->
    <div id="tasksContainerWrapper">
      <button id="leftArrow" class="arrow-button" onclick="scrollTasks(-1)">&#x276E;</button>
      <div id="tasksContainer"></div>
      <button id="rightArrow" class="arrow-button" onclick="scrollTasks(1)">&#x276F;</button>
    </div>
  </div>
  
  <!-- Alt Sol K√∂y Bilgisi -->
  <div id="bottomLeft">Asman</div>
  
  <script>
    /* Genel Deƒüi≈ükenler */
    let money = 99999999;
    let currentVillage = "Asman";
    let vakurTaskCount = 0, hatipTaskCount = 0, baronTaskCount = 0;
    let isHatipUnlocked = false, isBaronUnlocked = false;
    const pageSizes = [3, 3, 5, 5, 5, 5, 5];
    const totalPages = pageSizes.length;
    const allKoyler = ["Asman","Mizrin","Qeruk","Twƒ±lveser","Ashma","Ogean","Karuk","Tilkarut","Midep","√ñmerk","Tilal","Olik","Mƒ±shecerk","Mƒ±zelb","Kerg√º","Bozdepe","Cinnƒ±k","Mƒ±zrin","Bostancƒ±","Masucark","Kƒ±rƒ±kan","Kuzluk","Qeremsal","Medƒ±rbaz","Hecuk","Zebe≈üker","Mirƒüan","Dideri","Kazƒ±ka","Nehlnehli","Birdirej","Cembel"];
    function randomMalikane(){ return [5,10,15][Math.floor(Math.random()*3)]; }
    function randomSiginak(){ return [50,75,100][Math.floor(Math.random()*3)]; }
    function randomVilla(){ return [25,50,75][Math.floor(Math.random()*3)]; }
    const villageData = allKoyler.map(k => ({ name: k, malikane: randomMalikane(), siginak: randomSiginak(), villa: randomVilla() }));
    
    /* Eski g√∂rev listeleri kaldƒ±rƒ±ldƒ±; yerine Epistemolojik G√∂revlerde kullanƒ±lacak yeni etiketler kullanƒ±lacak. */
    
    /* √ñrnek zamanlayƒ±cƒ±lar, para, su√ß vb. mekanikleri eklemek i√ßin fonksiyonlar (kƒ±saca) */
    function buyItem(item, cost){
      if(money < cost){ alert("Yetersiz bakiye!"); return; }
      money -= cost;
      updateMoneyUI();
      alert(item+" satƒ±n alƒ±ndƒ±! (-"+cost+"$)");
    }
    function updateMoneyUI(){ document.getElementById("money").innerText = "$"+money; }
    
    function toggleDurumum(){ document.getElementById("durumumContent").classList.toggle("active"); }
    function toggleTuccar(){ document.getElementById("tuccarContent").classList.toggle("active"); }
    
    /* Basit bir K√∂y ƒ∞nceleme fonksiyonu */
    function displayKoyIncelemePage(page){
      let start = 0;
      for(let i=0;i<page-1;i++){ start += pageSizes[i]; }
      let end = start + pageSizes[page-1];
      const ul = document.getElementById("koyIncelemeList");
      ul.innerHTML = "";
      for(let i=start;i<end && i<villageData.length;i++){
        const v = villageData[i];
        let li = document.createElement("li");
        li.innerHTML = `<span>${v.name} (6 At)</span><button onclick="alert('K√∂y: '+v.name)">ƒ∞ncele</button>`;
        ul.appendChild(li);
      }
      renderKoyIncelemePagination();
    }
    function renderKoyIncelemePagination(){
      const pag = document.getElementById("koyIncelemePagination");
      pag.innerHTML = "";
      for(let p=1;p<=totalPages;p++){
        let sp = document.createElement("span");
        sp.innerText = p;
        if(p === 1) sp.classList.add("active");
        sp.onclick = () => displayKoyIncelemePage(p);
        pag.appendChild(sp);
      }
    }
    function displayTrenPage(page){
      let start = 0;
      for(let i=0;i<page-1;i++){ start += pageSizes[i]; }
      let end = start + pageSizes[page-1];
      const trenList = document.getElementById("trenList");
      trenList.innerHTML = "";
      for(let i=start;i<end && i<allKoyler.length;i++){
        let li = document.createElement("li");
        li.innerHTML = `<span>${allKoyler[i]}</span><button onclick="alert('Tren: '+allKoyler[i])">Seyahat Et</button>`;
        trenList.appendChild(li);
      }
      renderTrenPagination();
    }
    function renderTrenPagination(){
      const pag = document.getElementById("trenPagination");
      pag.innerHTML = "";
      for(let p=1;p<=totalPages;p++){
        let sp = document.createElement("span");
        sp.innerText = p;
        if(p === 1) sp.classList.add("active");
        sp.onclick = () => displayTrenPage(p);
        pag.appendChild(sp);
      }
    }
    
    /* Yeni Epistemolojik G√∂rev Ekranƒ±: 
       Eski "Basit, Orta, Zor, ƒ∞leri, Son G√∂revler" yerine
       "Ba≈ülangƒ±√ß - Ke≈üif√ßi Baronluk" ba≈ülƒ±ƒüƒ± ile ardƒ±ndan
       ‚Äú√áƒ±rak x I‚Äù, ‚ÄúUsta x II‚Äù, ‚ÄúUzman x III‚Äù, ‚ÄúEfsane x IV‚Äù, ‚ÄúY√ºce x V‚Äù ≈üeklinde etiketler g√∂sterilecek.
       Burada x; VAKUR, HATƒ∞P veya BARON olarak b√ºy√ºk harflerle yer alƒ±r.
    */
    function loadRankTasks(rank){
      const r = rank.toUpperCase();
      const newLabels = [
        "√áƒ±rak " + r + " I",
        "Usta " + r + " II",
        "Uzman " + r + " III",
        "Efsane " + r + " IV",
        "Y√ºce " + r + " V"
      ];
      const container = document.getElementById("tasksContainer");
      container.innerHTML = "";
      // Ek ba≈ülƒ±k
      const headerDiv = document.createElement("div");
      headerDiv.style.textAlign = "center";
      headerDiv.style.marginBottom = "15px";
      headerDiv.style.fontSize = "1.2rem";
      headerDiv.innerText = "Ba≈ülangƒ±√ß - Ke≈üif√ßi Baronluk";
      container.appendChild(headerDiv);
      newLabels.forEach(label => {
        const section = document.createElement("div");
        section.className = "rankSection";
        const h2 = document.createElement("h2");
        h2.innerText = label;
        if(rank.toLowerCase() === "vakur") { h2.classList.add("vakur-color"); }
        else if(rank.toLowerCase() === "hatip") { h2.classList.add("hatip-color"); }
        else if(rank.toLowerCase() === "baron") { h2.classList.add("baron-color"); }
        section.appendChild(h2);
        section.innerHTML += "<p>G√∂rev detaylarƒ± buraya gelecek...</p>";
        container.appendChild(section);
      });
    }
    
    function openGorevPage(rank){
      if(rank === "Hatip" && !isHatipUnlocked) return;
      if(rank === "Baron" && !isBaronUnlocked) return;
      document.getElementById("mainPage").style.display = "none";
      document.getElementById("gorevPage").style.display = "block";
      if(rank === "Vakur") {
        document.getElementById("gorevHeader").style.color = "blue";
        document.getElementById("gorevHeader").innerText = "VAKUR G√ñREVLERƒ∞";
      } else if(rank === "Hatip") {
        document.getElementById("gorevHeader").style.color = "orange";
        document.getElementById("gorevHeader").innerText = "HATƒ∞P G√ñREVLERƒ∞";
      } else if(rank === "Baron") {
        document.getElementById("gorevHeader").style.color = "red";
        document.getElementById("gorevHeader").innerText = "BARON G√ñREVLERƒ∞";
      }
      loadRankTasks(rank);
    }
    
    function closeGorevPage(){
      document.getElementById("gorevPage").style.display = "none";
      document.getElementById("mainPage").style.display = "block";
    }
    
    /* Basit War & Chat fonksiyonlarƒ± √∂rneƒüi */
    function scrollTasks(direction){
      const container = document.getElementById("tasksContainer");
      container.scrollBy({ left: direction * 310, behavior: "smooth" });
    }
    
    /* Basit war geri sayƒ±m (√∂rnek) */
    let warTime = 7 * 24 * 60 * 60;
    setInterval(function(){
      warTime--;
      document.getElementById("warCountdown") && (document.getElementById("warCountdown").innerText = warTime + " sn");
    }, 1000);
  </script>
</body>
</html>
