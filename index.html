<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>Black Dolphine - Mafia Oyunu</title>
  <style>
    /* Temel SÄ±fÄ±rlama ve Genel Stil */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    body {
      background: linear-gradient(120deg, #272727 0%, #111 50%, #000 100%);
      color: #f1f1f1;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      position: relative;
    }

    /* HEADER */
    header {
      background: rgba(0, 0, 0, 0.85);
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 2rem;
      position: sticky;
      top: 0;
      z-index: 999;
      box-shadow: 0 2px 5px rgba(0,0,0,0.5);
    }

    .logo {
      font-size: 1.5rem;
      font-weight: bold;
      letter-spacing: 1.5px;
      color: #ff4444;
      text-transform: uppercase;
    }

    .money {
      font-size: 1rem;
      background: #222;
      padding: 0.5rem 1rem;
      border-radius: 5px;
      border: 1px solid #333;
    }

    .money span {
      color: #ffcc00;
      margin-left: 5px;
      font-weight: bold;
    }

    /* MAIN */
    main {
      flex: 1;
      max-width: 1200px;
      margin: 0 auto;
      padding: 2rem;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    h1, h2, h3, h4, p {
      text-align: center;
      margin-bottom: 1rem;
    }

    /* GENEL BUTON STÄ°LÄ° */
    .btn {
      background: #ff4444;
      color: #fff;
      border: none;
      padding: 0.75rem 1.25rem;
      font-size: 1rem;
      border-radius: 5px;
      cursor: pointer;
      transition: background 0.3s ease;
    }

    .btn:hover {
      background: #cc0000;
    }

    /* RÃœTBE KARTLARI */
    .rank-selection {
      display: flex;
      gap: 2rem;
      margin: 2rem 0;
      flex-wrap: wrap;
      justify-content: center;
    }

    .card {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(4px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 10px;
      width: 250px;
      padding: 1.5rem;
      text-align: center;
      transition: transform 0.3s ease;
      box-shadow: 0 2px 5px rgba(0,0,0,0.3);
    }

    .card:hover {
      transform: translateY(-5px);
    }

    .card h2 {
      margin-bottom: 1rem;
      color: #ffcc00;
    }

    .locked {
      opacity: 0.4;
      position: relative;
    }

    .locked::after {
      content: "KÄ°LÄ°TLÄ°";
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(0,0,0,0.8);
      padding: 0.5rem 1rem;
      border-radius: 5px;
      font-weight: bold;
      color: #ff4444;
      pointer-events: none;
    }

    /* GÃ–REV ALANI */
    .task-container {
      margin-top: 2rem;
      text-align: center;
      max-width: 600px;
      background: rgba(255,255,255,0.07);
      padding: 1.5rem;
      border-radius: 10px;
      border: 1px solid rgba(255,255,255,0.2);
      display: none;
      position: relative;
    }

    .task-container.active {
      display: block;
    }

    .task-container h3 {
      color: #ffcc00;
      margin-bottom: 1rem;
    }

    .task-desc {
      margin-bottom: 1.5rem;
      font-weight: 500;
      color: #ffffff;
    }

    .timer {
      margin-top: 1rem;
      font-weight: bold;
      font-size: 1.1rem;
      color: #50fa7b;
    }

    /* SABÄ°T BUTON GRUBU (saÄŸ alt) */
    .fixed-btn-group {
      position: fixed;
      bottom: 2rem;
      right: 2rem;
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      align-items: flex-end;
    }

    .fixed-btn-group .btn {
      min-width: 130px;
      text-align: center;
    }

    .hidden {
      display: none !important;
    }

    /* SOL PANEL (KÃ–Y) */
    .side-panel {
      position: fixed;
      top: 80px;
      left: 20px;
      width: 80px;
      text-align: center;
      display: none;
      flex-direction: column;
      align-items: center;
      gap: 0.5rem;
      z-index: 1000;
      transition: all 0.3s ease;
    }

    .side-panel img {
      width: 64px;
      height: 64px;
      cursor: pointer;
      border-radius: 5px;
      border: 2px solid #333;
      animation: wiggle 3s infinite ease-in-out;
    }

    @keyframes wiggle {
      0% { transform: rotate(0deg); }
      25% { transform: rotate(2deg); }
      50% { transform: rotate(0deg); }
      75% { transform: rotate(-2deg); }
      100% { transform: rotate(0deg); }
    }

    .side-panel p {
      font-size: 0.9rem;
      color: #ffcc00;
    }

    /* MODAL GENEL */
    .modal-overlay {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.8);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 2000;
    }

    .modal-overlay.active {
      display: flex;
    }

    .modal {
      background: #1c1c1c;
      border-radius: 10px;
      padding: 2rem;
      max-width: 500px;
      width: 90%;
      text-align: center;
      box-shadow: 0 5px 15px rgba(0,0,0,0.8);
      position: relative;
    }

    .close-modal {
      position: absolute;
      top: 1rem;
      right: 1rem;
      background: transparent;
      border: none;
      color: #fff;
      font-size: 1.2rem;
      cursor: pointer;
    }

    /* ROZETLER MODALI */
    .modal h2 {
      color: #ffcc00;
      margin-bottom: 1rem;
    }

    .badge-row {
      display: flex;
      justify-content: space-around;
      margin: 1rem 0;
    }

    .badge-type {
      text-align: center;
    }

    .badge-type span {
      display: block;
      margin-top: 0.5rem;
      font-size: 1.2rem;
      font-weight: bold;
      color: #fff;
    }

    /* Rozet Emojileri */
    .badge-blue, .badge-orange, .badge-red {
      font-size: 1.8rem;
    }
    .blue-label { color: #00bfff; }
    .orange-label { color: #ffa500; }
    .red-label { color: #ff0000; }

    hr {
      border: 1px solid #444;
      margin: 1rem 0;
    }

    /* Bar AlanlarÄ± */
    .bar-section {
      margin-bottom: 1.5rem;
    }
    .bar-title {
      margin-bottom: 0.5rem;
      color: #ffcc00;
      font-weight: bold;
    }
    .bar-container {
      width: 80%;
      margin: 0 auto;
      height: 20px;
      background: #444;
      border-radius: 5px;
      overflow: hidden;
      position: relative;
      margin-bottom: 0.5rem;
    }
    .bar-fill {
      height: 100%;
      transition: width 0.3s ease;
    }
    .bar-value {
      color: #fff;
      font-weight: bold;
    }

    .dayaniklik-bar {
      background: #00bfff;
    }
    .onur-bar {
      background: #ffa500;
    }
    .nufus-value {
      color: #fff;
      font-weight: bold;
    }

    /* MARKET MODAL */
    .market-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin: 0.5rem 0;
      padding: 0.5rem;
      background: rgba(255,255,255,0.05);
      border-radius: 5px;
    }

    .market-item button {
      font-size: 0.9rem;
      padding: 0.3rem 0.8rem;
    }

    /* KUMARHANE MODALI */
    .kumarhane-input {
      margin: 1rem 0;
      display: flex;
      gap: 0.5rem;
      justify-content: center;
    }

    .kumarhane-input input {
      width: 100px;
      padding: 0.3rem;
      text-align: center;
      border-radius: 5px;
      border: 1px solid #999;
    }

    /* ENVANTER GÃ–RSELLEÅTÄ°RME */
    .inventory-list img {
      width: 32px;
      height: 32px;
      margin-right: 8px;
      vertical-align: middle;
      animation: bounce 2s infinite;
    }

    @keyframes bounce {
      0% { transform: translateY(0); }
      50% { transform: translateY(-8px); }
      100% { transform: translateY(0); }
    }
  </style>
</head>
<body>

  <!-- HEADER -->
  <header>
    <div class="logo">Black Dolphine</div>
    <div class="money">Dolar: <span id="money">500000</span></div>
  </header>

  <!-- MAIN Ä°Ã‡ERÄ°K -->
  <main>
    <h1>Black Dolphine Mafya DÃ¼nyasÄ±na HoÅŸ Geldiniz!</h1>
    <h4>Vakur (Mavi ğŸ…), Hatip (Turuncu ğŸ…) veya Baron (KÄ±rmÄ±zÄ± ğŸ…) olarak suÃ§ dÃ¼nyasÄ±na adÄ±m atÄ±n.</h4>

    <!-- RÃœTBE KARTLARI -->
    <div class="rank-selection">
      <div class="card" id="cardVakur">
        <h2>Vakur</h2>
        <p>Mavi ğŸ…</p>
        <button class="btn" onclick="selectRank('Vakur')">SeÃ§</button>
      </div>
      <div class="card" id="cardHatip">
        <h2>Hatip</h2>
        <p>Turuncu ğŸ…</p>
        <button class="btn" onclick="selectRank('Hatip')">SeÃ§</button>
      </div>
      <div class="card locked" id="cardBaron">
        <h2>Baron</h2>
        <p>KÄ±rmÄ±zÄ± ğŸ…</p>
        <button class="btn" style="visibility:hidden;" onclick="selectRank('Baron')">SeÃ§</button>
      </div>
    </div>

    <!-- GÃ–REV ALANI -->
    <div class="task-container" id="taskContainer">
      <h3 id="rankTitle"></h3>
      <div class="task-desc" id="taskDescription"></div>
      <button class="btn" id="completeTaskBtn" onclick="completeTask()">GÃ¶revi Tamamla</button>
      <div class="timer" id="countdownTimer" style="display:none;">Bekleme sÃ¼resi: <span id="timerValue">10</span> sn</div>
    </div>
  </main>

  <!-- SAÄ ALT SABÄ°T BUTON GRUBU -->
  <div class="fixed-btn-group">
    <button class="btn" onclick="toggleBadgesModal()">Rozetlerim</button>
    <button class="btn hidden" id="marketBtn" onclick="toggleMarketModal()">Market</button>
    <button class="btn hidden" id="kumarhaneBtn" onclick="toggleKumarhaneModal()">Kumarhane</button>
  </div>

  <!-- KÃ–Y PANELÄ° (Sol panel: Envanter ve Ã‡ete Bilgileri) -->
  <div class="side-panel" id="koyPanelTrigger">
    <img src="https://via.placeholder.com/64?text=K%C3%B6y" alt="KÃ¶y" onclick="toggleKoyPanelModal()" />
    <p>KÃ¶yÃ¼n</p>
  </div>

  <!-- KÃ–Y MODALI -->
  <div class="modal-overlay" id="koyModal">
    <div class="modal">
      <button class="close-modal" onclick="toggleKoyPanelModal()">X</button>
      <h2>Envanter & Ã‡ete Bilgileri</h2>
      <div class="inventory-list" id="inventoryList"></div>
      <hr />
      <h3>Ã‡ete Ãœye SayÄ±sÄ±: <span id="ceteUyeSayisi">0</span></h3>
    </div>
  </div>

  <!-- ROZETLER MODALI -->
  <div class="modal-overlay" id="badgesModal">
    <div class="modal">
      <button class="close-modal" onclick="toggleBadgesModal()">X</button>
      <h2>Rozetlerim</h2>
      <div class="badge-row">
        <div class="badge-type">
          <div class="badge-blue">ğŸ…</div>
          <span class="blue-label" id="blueBadgeCount">0</span>
          <p style="margin-top:0.5rem;">Vakur (Mavi)</p>
        </div>
        <div class="badge-type">
          <div class="badge-orange">ğŸ…</div>
          <span class="orange-label" id="orangeBadgeCount">0</span>
          <p style="margin-top:0.5rem;">Hatip (Turuncu)</p>
        </div>
        <div class="badge-type">
          <div class="badge-red">ğŸ…</div>
          <span class="red-label" id="redBadgeCount">0</span>
          <p style="margin-top:0.5rem;">Baron (KÄ±rmÄ±zÄ±)</p>
        </div>
      </div>
      <hr />
      <div class="bar-section">
        <div class="bar-title">DayanÄ±klÄ±lÄ±k (Vakur)</div>
        <div class="bar-container">
          <div class="bar-fill dayaniklik-bar" id="dayaniklikBar"></div>
        </div>
        <div class="bar-value">GÃ¼Ã§: <span id="dayaniklikValue">0</span></div>
      </div>
      <div class="bar-section">
        <div class="bar-title">Onur (Hatip)</div>
        <div class="bar-container">
          <div class="bar-fill onur-bar" id="onurBar"></div>
        </div>
        <div class="bar-value">Onur: <span id="onurValue">0</span></div>
      </div>
      <div class="bar-section">
        <div class="bar-title">NÃ¼fus (Hatip)</div>
        <div class="bar-value">NÃ¼fus: <span id="nufus">0</span></div>
      </div>
    </div>
  </div>

  <!-- MARKET MODALI -->
  <div class="modal-overlay" id="marketModal">
    <div class="modal">
      <button class="close-modal" onclick="toggleMarketModal()">X</button>
      <h2>Market</h2>
      <p style="margin-bottom:1rem;">Baron seviyesinde satÄ±n alabileceÄŸiniz varlÄ±klar:</p>
      <div class="market-item" id="koyItem">
        <div>KÃ¶y (75.000$)</div>
        <button class="btn" onclick="buyItem('KÃ¶y', 75000)">SatÄ±n Al</button>
      </div>
      <div class="market-item">
        <div>At (5.000$)</div>
        <button class="btn" onclick="buyItem('At', 5000)">SatÄ±n Al</button>
      </div>
      <div class="market-item">
        <div>UÃ§ak (4.000$)</div>
        <button class="btn" onclick="buyItem('UÃ§ak', 4000)">SatÄ±n Al</button>
      </div>
      <div class="market-item">
        <div>Kumarhane Kur (40.000$)</div>
        <button class="btn" onclick="buyItem('Kumarhane', 40000)">SatÄ±n Al</button>
      </div>
    </div>
  </div>

  <!-- KUMARHANE MODALI -->
  <div class="modal-overlay" id="kumarhaneModal">
    <div class="modal">
      <button class="close-modal" onclick="toggleKumarhaneModal()">X</button>
      <h2>Kumarhane</h2>
      <p>ÅansÄ±nÄ±zÄ± deneyin! %50 kazanma ÅŸansÄ±.</p>
      <div class="kumarhane-input">
        <input type="number" id="betAmount" placeholder="Bahis ($)" />
        <button class="btn" onclick="playGamble()">Oyna</button>
      </div>
      <p id="gambleResult"></p>
    </div>
  </div>

  <script>
    // ----------------------------------------------------
    // 1. GÃ–REV DÄ°ZÄ°LERÄ°: 5 Kademeli (Basit, Orta, Zor, Ä°leri, Son) - Her kademede 8 gÃ¶rev (Toplam 40)
    // ----------------------------------------------------
    const tierOrder = ["basit", "orta", "zor", "ileri", "son"];

    const tasks = {
      vakur: {
        basit: [
          "Bir Ã§ocuÄŸun okul Ã§antasÄ± almasÄ±na yardÄ±mcÄ± ol.",
          "Mahalledeki yaÅŸlÄ± bir komÅŸunun alÄ±ÅŸveriÅŸ poÅŸetlerini taÅŸÄ±.",
          "Sokaktaki sahipsiz bir kÃ¶pek iÃ§in su ve mama koy.",
          "ArkadaÅŸÄ±na ufak bir hediye vererek moralini yÃ¼kselt.",
          "Ä°ÅŸsiz bir tanÄ±dÄ±ÄŸÄ±na, CV hazÄ±rlama konusunda destek ol.",
          "KÃ¼tÃ¼phanede eski kitaplarÄ± dÃ¼zenlemeye gÃ¶nÃ¼llÃ¼ ol.",
          "Bir hayÄ±r kurumuna ufak bir baÄŸÄ±ÅŸ yap veya yardÄ±m topla.",
          "OtobÃ¼ste yaÅŸlÄ± veya hamile birine yer ver."
        ],
        orta: [
          "Aile iÃ§inde uzun sÃ¼redir tartÄ±ÅŸma yaÅŸayan iki akrabayÄ± barÄ±ÅŸtÄ±rmaya Ã§alÄ±ÅŸ.",
          "Mahallende dÃ¼zenlenecek bir yardÄ±m kermesi veya etkinlik organize et.",
          "Maddi durumu kÃ¶tÃ¼ olan bir Ã¶ÄŸrenciye burs/kitap yardÄ±mÄ± ayarla.",
          "Bir STKâ€™nÄ±n (Sivil Toplum KuruluÅŸu) etkinliÄŸinde aktif rol al.",
          "Mahalledeki bakÄ±msÄ±z bir parkÄ± onarmak iÃ§in gÃ¶nÃ¼llÃ¼ler topla.",
          "Kan baÄŸÄ±ÅŸÄ± kampanyasÄ± dÃ¼zenlenmesine katkÄ±da bulun.",
          "Bir arkadaÅŸÄ±nÄ±n depresyon veya moral bozukluÄŸu sorununa destek olarak profesyonel yardÄ±m almasÄ±na aracÄ±lÄ±k et.",
          "Ä°nternet Ã¼zerinden zorbalÄ±ÄŸa uÄŸrayan birine Ã§evrimiÃ§i destek topluluÄŸu bulmasÄ±na yardÄ±m et."
        ],
        zor: [
          "Afet bÃ¶lgesine gÃ¶nÃ¼llÃ¼ yardÄ±m ekibi olarak katÄ±l ve yardÄ±m faaliyetlerinde bulun.",
          "Mahalledeki kronik sorun (Ã¶rneÄŸin su baskÄ±nÄ±) iÃ§in belediye yetkilileriyle gÃ¶rÃ¼ÅŸÃ¼p Ã§Ã¶zÃ¼m talep et.",
          "Zor durumdaki bir aileye iÅŸ veya barÄ±nma imkÃ¢nÄ± bulmalarÄ±na yardÄ±mcÄ± ol.",
          "Hayvan barÄ±naÄŸÄ±nda bir haftalÄ±k kapsamlÄ± bakÄ±m ve temizlik gÃ¶nÃ¼llÃ¼lÃ¼ÄŸÃ¼ yap.",
          "Uzun sÃ¼redir kÃ¼s olan iki arkadaÅŸÄ±n barÄ±ÅŸmasÄ±na aracÄ±lÄ±k et, aralarÄ±ndaki sorunu dinle ve uzlaÅŸmalarÄ±nÄ± saÄŸla.",
          "Toplumda sosyal dÄ±ÅŸlanmaya maruz kalan bir kiÅŸiyi etkinliklere dÃ¢hil ederek kaynaÅŸmasÄ±nÄ± saÄŸla.",
          "Kendi imkÃ¢nlarÄ±nla kÃ¼Ã§Ã¼k Ã§aplÄ± bir baÄŸÄ±ÅŸ kampanyasÄ± dÃ¼zenle ve ihtiyacÄ± olan bir kuruma ulaÅŸtÄ±r.",
          "Yerel bir hastanede haftalÄ±k gÃ¶nÃ¼llÃ¼ refakat/destek programÄ±na katÄ±l."
        ],
        ileri: [
          "BÃ¼yÃ¼k Ã¶lÃ§ekli bir yardÄ±m projesine (Ã¶r. kÃ¼tÃ¼phane kurulumu, okul tadilatÄ±) liderlik et.",
          "GenÃ§lere yÃ¶nelik bir mentorluk programÄ± baÅŸlat ve en az birkaÃ§ kiÅŸinin hayatÄ±na dokun.",
          "Toplum merkezinde dezavantajlÄ± bireyler iÃ§in meslek edindirme kursu organize et.",
          "Åehrindeki bir toplumsal soruna (Ã§evre kirliliÄŸi, sokak hayvanlarÄ±, vb.) belediye ve STK ortaklÄ±ÄŸÄ±yla Ã§Ã¶zÃ¼m Ã¼ret.",
          "BÃ¼yÃ¼k bir gÃ¶nÃ¼llÃ¼ ekibi kurarak yaÅŸlÄ± bakÄ±mevlerini ziyaret organizasyonu yap.",
          "Okullarda genÃ§lere 'empati ve yardÄ±mseverlik' konulu seminer vermek iÃ§in gÃ¶nÃ¼llÃ¼ler ayarla.",
          "BÃ¶lgesel bir sosyal medya kampanyasÄ±yla dikkat Ã§ekerek geniÅŸ katÄ±lÄ±mlÄ± yardÄ±m toplama etkinliÄŸi dÃ¼zenle.",
          "Psikolojik danÄ±ÅŸmanlar ve uzmanlarla anlaÅŸarak Ã¼cretsiz terapi/rehberlik gÃ¼nÃ¼ organize et."
        ],
        son: [
          "Ulusal Ã§apta bir sosyal sorumluluk projesinin yÃ¼rÃ¼tÃ¼cÃ¼sÃ¼ ol.",
          "BÃ¼yÃ¼k Ã§aplÄ± bir baÄŸÄ±ÅŸ konseri/festivali dÃ¼zenle ve elde edilen gelirle Ã§ok sayÄ±da ihtiyacÄ± gider.",
          "FarklÄ± il/ilÃ§elerdeki gÃ¶nÃ¼llÃ¼ topluluklarÄ±nÄ± tek bir Ã§atÄ± altÄ±nda birleÅŸtiren bir platform kur.",
          "Uzun vadeli 'eÄŸitim bursu' fonu baÅŸlatÄ±p Ã§ok sayÄ±da Ã¶ÄŸrenciye destek saÄŸla.",
          "Aile iÃ§i ÅŸiddet gÃ¶renlere yÃ¶nelik kapsamlÄ± koruma ve rehabilitasyon hizmetleri oluÅŸturmak iÃ§in kurumlarla iÅŸ birliÄŸi yap.",
          "Bir 'yardÄ±m vakfÄ±' kurarak kurumsal sponsorluklar ve gÃ¶nÃ¼llÃ¼ aÄŸlarÄ±yla sÃ¼rekli yardÄ±m faaliyetleri yÃ¼rÃ¼t.",
          "UluslararasÄ± STKâ€™lerle iÅŸ birliÄŸi yaparak baÅŸka Ã¼lkelere de yardÄ±m faaliyetleri taÅŸÄ±.",
          "Toplumda 'Vakur' duruÅŸunla tanÄ±nÄ±p yerel yÃ¶netimden veya resmi kurumlardan 'Onur Ã–dÃ¼lÃ¼' alacak kadar geniÅŸ kitlelere ulaÅŸ."
        ]
      },
      hatip: {
        basit: [
          "Bir sokak kavgasÄ±nÄ± tatlÄ± dille sakinleÅŸtirerek barÄ±ÅŸtÄ±r.",
          "YakÄ±n arkadaÅŸlarÄ±n arasÄ±nda Ã§Ä±kan ufak bir tartÄ±ÅŸmayÄ± yapÄ±cÄ± sÃ¶zlerle Ã§Ã¶z.",
          "Aile iÃ§inde yanlÄ±ÅŸ anlaÅŸÄ±lma yÃ¼zÃ¼nden Ã§Ä±kan gerginliÄŸi, herkesi dinleyerek gider.",
          "Sosyal medyada arkadaÅŸlarÄ±n arasÄ±nda Ã§Ä±kan bir tartÄ±ÅŸmayÄ± tatlÄ±ya baÄŸla.",
          "YanlÄ±ÅŸ bilgi yaygÄ±nlaÅŸmadan Ã¶nce, doÄŸru kaynaklarÄ± gÃ¶stererek Ã§evreni bilgilendir.",
          "Mahallede tartÄ±ÅŸmaya yol aÃ§an bir dedikoduyu kaynaÄŸÄ±ndan Ã§Ã¼rÃ¼terek ortalÄ±ÄŸÄ± sakinleÅŸtir.",
          "Bir kulÃ¼p ya da okul etkinliÄŸinde kÄ±sa bir konuÅŸma yaparak yeni Ã¼yeler kazanmaya Ã§alÄ±ÅŸ.",
          "Ufak bir grup Ã¶nÃ¼nde hitabet pratiÄŸi yaparak geri bildirim topla."
        ],
        orta: [
          "KomÅŸular arasÄ±ndaki uzun sÃ¼reli bir sÄ±nÄ±r/anlaÅŸmazlÄ±k konusunu toplantÄ± dÃ¼zenleyerek Ã§Ã¶zÃ¼me kavuÅŸtur.",
          "Ä°ÅŸ yerinde farklÄ± departmanlar arasÄ±ndaki iletiÅŸim kopukluÄŸunu gidermek iÃ§in arabuluculuk yap.",
          "Yerel bir hayÄ±r kurumuna baÄŸÄ±ÅŸ toplamak iÃ§in Ã§evrendeki insanlarÄ± ikna et.",
          "KÃ¼Ã§Ã¼k bir Ã¶ÄŸrenci grubuna hitabet eÄŸitimi veya 'iletiÅŸim ve beden dili' atÃ¶lyesi dÃ¼zenle.",
          "Aile ÅŸirketinde miras veya paylaÅŸÄ±m konusundaki tartÄ±ÅŸmada hakem ol.",
          "Bir sivil toplum giriÅŸimi iÃ§in gÃ¶nÃ¼llÃ¼ konuÅŸmacÄ± olarak katÄ±lÄ±mcÄ±larÄ± motive et.",
          "Mahalle muhtarÄ± veya yerel yÃ¶netimle gÃ¶rÃ¼ÅŸÃ¼p bir sorunun Ã§Ã¶zÃ¼mÃ¼ iÃ§in imza kampanyasÄ±na Ã¶ncÃ¼lÃ¼k et.",
          "Ufak bir gÃ¶nÃ¼llÃ¼ ekiple sokak sanatÃ§Ä±larÄ±nÄ±n yer tahsisi sorununu belediye ile Ã§Ã¶zÃ¼me ulaÅŸtÄ±r."
        ],
        zor: [
          "Ä°ki rakip grubu aynÄ± masa etrafÄ±nda toplayarak barÄ±ÅŸ gÃ¶rÃ¼ÅŸmesi yap.",
          "Ulusal bir TV kanalÄ±nda veya Ã¶nemli bir platformda toplumsal bir konuda konuÅŸma yapmaya davet edil.",
          "BÃ¼yÃ¼k bir iÅŸ anlaÅŸmazlÄ±ÄŸÄ±nda arabulucu olarak yer al.",
          "Belediye meclisinde veya bir platformda mahalle halkÄ±nÄ±n taleplerini dile getirip sonuÃ§ al.",
          "Okulda veya Ã¼niversitede uzun sÃ¼redir Ã§Ã¶zÃ¼lemeyen bir protesto veya eylemi uzlaÅŸma yoluyla sonlandÄ±r.",
          "Esnaflar arasÄ±ndaki fiyat anlaÅŸmazlÄ±ÄŸÄ± veya haksÄ±z rekabet konusunu masaya yatÄ±rÄ±p uzlaÅŸtÄ±r.",
          "Sosyal medyada alevlenen, binlerce kiÅŸinin katÄ±ldÄ±ÄŸÄ± bir tartÄ±ÅŸmaya Ä±lÄ±mlÄ± bir Ã¼slupla girip konunun olumluya evrilmesini saÄŸla.",
          "Yerel veya ulusal bir sivil toplum zirvesinde 'temsilci' olarak konuÅŸma yaparak birÃ§ok kesimle iletiÅŸim kur."
        ],
        ileri: [
          "BÃ¶lgesel bir toplum hareketine Ã¶nderlik edip kitleleri organize et.",
          "Ulusal bir konferansta konuÅŸmacÄ± olarak toplumun geniÅŸ kesimini etkileyen bir soruna Ã§Ã¶zÃ¼m Ã¶nerileri sun.",
          "Yerel siyasetÃ§iler ve STKâ€™ler arasÄ± diyaloÄŸu gÃ¼Ã§lendirip ortak projeler Ã§Ä±kar.",
          "FarklÄ± etnik veya dini gruplarÄ±n katÄ±ldÄ±ÄŸÄ± bir barÄ±ÅŸ Ã§alÄ±ÅŸtayÄ±nda moderatÃ¶rlÃ¼k yap.",
          "Kurumsal bir ÅŸirkette Ã¼st dÃ¼zey mÃ¼zakerelerde bulunarak Ã§alÄ±ÅŸan haklarÄ±nÄ± iyileÅŸtirecek bir sÃ¶zleÅŸme taslaÄŸÄ± hazÄ±rlat.",
          "Uzun sÃ¼redir devam eden mahalle/ilÃ§e gerginliÄŸini uzlaÅŸÄ± belgesi imzalatarak Ã§Ã¶zÃ¼me kavuÅŸtur.",
          "Åehrin ileri gelenlerini bir araya getirip ortak amaÃ§lÄ± bÃ¼yÃ¼k bir kampanya dÃ¼zenle.",
          "Bir Ã¼niversite veya dÃ¼ÅŸÃ¼nce kuruluÅŸunda 'BarÄ±ÅŸÃ§Ä±l Ä°letiÅŸim ve Diplomasi' dersi/semineri ver."
        ],
        son: [
          "UluslararasÄ± bir konferansta Ã¼lkeyi veya bÃ¶lgeni temsilen konuÅŸma yap.",
          "FarklÄ± Ã¼lkelerden genÃ§ liderleri bir araya getiren bir barÄ±ÅŸ giriÅŸimine Ã¶ncÃ¼lÃ¼k et.",
          "Toplumsal huzursuzluÄŸu barÄ±ÅŸÃ§Ä±l yÃ¶ntemle Ã§Ã¶zdÃ¼ÄŸÃ¼n iÃ§in resmÃ® makamlardan Ã¶dÃ¼l al.",
          "Ã‡ok bÃ¼yÃ¼k Ã¶lÃ§ekli bir sosyal veya politik kampanyayÄ± yÃ¶neterek yasa deÄŸiÅŸikliÄŸi veya reform yapÄ±lmasÄ±nÄ± saÄŸla.",
          "Diplomatik krizde aracÄ± konumunda rol Ã¼stlenip Ã¼lkeler arasÄ± gerilimi azalt.",
          "â€˜BarÄ±ÅŸ ve UzlaÅŸma VakfÄ±â€™ benzeri bir kurum kurup geniÅŸ Ã§aplÄ± projeler yÃ¶net.",
          "DÃ¼nyaca tanÄ±nan bir 'arabulucu' unvanÄ± ile Ã¶nemli Ã§atÄ±ÅŸma bÃ¶lgelerine resmÃ® davetler almaya baÅŸla.",
          "â€˜Hatiplikâ€™ konusundaki saygÄ±n duruÅŸunla ulusal/uluslararasÄ± barÄ±ÅŸ Ã¶dÃ¼lÃ¼ne aday gÃ¶steril."
        ]
      },
      baron: {
        basit: [
          "Ufak Ã§apta uyuÅŸturucu satma giriÅŸiminde bulun.",
          "Mahallede kÃ¼Ã§Ã¼k bir 'koruma Ã¼creti' toplama iÅŸine gir.",
          "Kafe veya mekÃ¢nlardan ufak Ã§aplÄ± haraÃ§ isteme giriÅŸimini yÃ¶net.",
          "Sokak satÄ±cÄ±larÄ± arasÄ±nda kÃ¼Ã§Ã¼k bir rekabeti kendi lehine sonuÃ§landÄ±r.",
          "Sahte marka Ã¼rÃ¼nlerin mahallede satÄ±ÅŸ aÄŸÄ±nÄ± oluÅŸtur.",
          "Basit bir ÅŸantaj veya tehditle rakibi susturmayÄ± dene.",
          "Ufak bir Ã§etenin desteÄŸini alarak mahallede 'gÃ¼venlik' saÄŸladÄ±ÄŸÄ±nÄ± iddia et.",
          "KaÃ§ak iÃ§ki satÄ±ÅŸÄ± yapan bir ekibe arka Ã§Ä±k."
        ],
        orta: [
          "Esnaftan dÃ¼zenli 'koruma parasÄ±' toplamaya baÅŸlayarak mahallede sÃ¶z sahibi ol.",
          "Yerel polis veya memurlarla ufak rÃ¼ÅŸvet baÄŸlantÄ±larÄ± kurarak gÃ¶z yummalarÄ±nÄ± saÄŸla.",
          "HÄ±zlÄ± kÃ¢r getiren yasadÄ±ÅŸÄ± kumar organizasyonunu mahalle Ã§apÄ±nda baÅŸlat.",
          "Rakip ufak Ã§eteyle gerginliÄŸi, Ã¼stÃ¼nlÃ¼k saÄŸlama adÄ±na kendi lehine Ã§Ã¶z.",
          "DÃ¼ÅŸÃ¼k dÃ¼zeyde silah ya da uyuÅŸturucu sevkiyatÄ±na lojistik destek ver.",
          "Yasa dÄ±ÅŸÄ± bahis oynatan birkaÃ§ mekÃ¢nla anlaÅŸma imzala.",
          "Kara para aklamaya ufaktan baÅŸlayarak kÃ¼Ã§Ã¼k bir dÃ¶ner sermaye oluÅŸtur.",
          "GeniÅŸlemek isteyen bir gece kulÃ¼bÃ¼nÃ¼n 'gizli ortak' statÃ¼sÃ¼nÃ¼ al."
        ],
        zor: [
          "Orta Ã¶lÃ§ekli uyuÅŸturucu aÄŸÄ±nÄ±n bÃ¶lge distribÃ¼tÃ¶rlÃ¼ÄŸÃ¼nÃ¼ ele al.",
          "Rakip baronun Ã¶nemli bir iÅŸ anlaÅŸmasÄ±na sÄ±z ve bilgilerini Ã§al.",
          "Polis ve siyasÃ® baÄŸlantÄ±larÄ±nÄ± gÃ¼Ã§lendirerek operasyonlardan paÃ§ayÄ± sÄ±yÄ±r.",
          "Silah ticaretinde farklÄ± bir sevkiyatÄ± organize ederek bÃ¼yÃ¼k kazanÃ§ saÄŸla.",
          "Gece kulÃ¼pleri, barlar, eÄŸlence sektÃ¶rÃ¼ne yaptÄ±ÄŸÄ±n yatÄ±rÄ±mÄ±n bÃ¶lgedeki tekeli ol.",
          "Rakip bir Ã§etenin liderini korkutarak kendi saflarÄ±na katÄ±lmaya zorla.",
          "Beyaz yakalÄ± iÅŸ Ã§evrelerine sÄ±zarak kara para aklamayÄ± 'legal' ÅŸirketler Ã¼zerinden geniÅŸlet.",
          "Orta dÃ¼zey siyasetÃ§ilere fon saÄŸlayarak nÃ¼fuzunu arttÄ±r."
        ],
        ileri: [
          "UluslararasÄ± uyuÅŸturucu hattÄ±na doÄŸrudan giriÅŸ yaparak bÃ¼yÃ¼k Ã¶lÃ§ekli sevkiyat yÃ¶net.",
          "Ãœst dÃ¼zey bÃ¼rokrat ve siyasetÃ§ilerle gizli anlaÅŸmalar yaparak dokunulmazlÄ±k saÄŸla.",
          "Rakip baronlarla geÃ§ici 'barÄ±ÅŸ konferansÄ±' dÃ¼zenleyip mafya dÃ¼nyasÄ±nda stratejik ittifak kur.",
          "Yurt dÄ±ÅŸÄ±nda kara para aklama ofisleri ve paravan ÅŸirketler aÃ§.",
          "GÃ¼venlik birimlerinde kilit isimleri satÄ±n alarak bÃ¼yÃ¼k operasyonlarÄ± engelle.",
          "Åehirdeki en bÃ¼yÃ¼k liman veya gÃ¼mrÃ¼k noktalarÄ±nda kontrol elde et.",
          "HalkÄ±n gÃ¶zÃ¼nde meÅŸrulaÅŸmak iÃ§in gÃ¶steriÅŸli hayÄ±r iÅŸleri veya sponsorluklar baÅŸlat.",
          "Casino, otel, gece kulÃ¼bÃ¼ zinciri kurarak yasadÄ±ÅŸÄ± gelirleri yasal iÅŸletmelere kaydÄ±r."
        ],
        son: [
          "BÃ¼yÃ¼k bir kumarhane zinciri ve malikÃ¢ne sahibi ol.",
          "UluslararasÄ± mafya aÄŸÄ±nÄ±n Ã¼lke temsilciliÄŸini Ã¼stlen.",
          "Siyasete dolaylÄ± olarak girip seÃ§im kampanyalarÄ±nÄ± fonlayacak kadar gÃ¼Ã§lÃ¼ ol.",
          "YeraltÄ± dÃ¼nyasÄ±nda 'Baronlar Konseyi' gibi bir oluÅŸum kurup ana sÃ¶z sahibi haline gel.",
          "Devletin kritik kurumlarÄ±na adamlarÄ±nÄ± yerleÅŸtirip bÃ¼yÃ¼k Ã¶lÃ§Ã¼de dokunulmazlÄ±k kazan.",
          "LÃ¼ks bir hayat sÃ¼rerken, aynÄ± zamanda farklÄ± Ã¼lkelerde yatÄ±rÄ±mlar ve gizli mal varlÄ±klarÄ± bulundur.",
          "Rakip baronlara yÃ¶nelik koordineli bir operasyon yaparak 'tek lider' konumunu garantile.",
          "â€˜Baronâ€™ statÃ¼nle sadece yerel deÄŸil, global dÃ¼zeyde bile korku ve saygÄ± uyandÄ±racak bir isim hÃ¢line gel."
        ]
      }
    };

    // ----------------------------------------------------
    // 2. GLOBAL DEÄÄ°ÅKENLER
    // ----------------------------------------------------
    let currentRank = null;  // "Vakur", "Hatip", "Baron"
    let vakurTaskCount = 0;
    let hatipTaskCount = 0;
    let baronTaskCount = 0;

    let blueBadgeCount = 0;
    let orangeBadgeCount = 0;
    let redBadgeCount = 0;
    let money = 500000;
    let dayaniklilik = 0;
    let nufus = 0;
    let onur = 0;
    let isCooldown = false;
    let cooldownTimer = null;
    let timeLeft = 10;

    // Market ve envanter deÄŸiÅŸkenleri
    let hasKoy = false;
    let atCount = 0;
    let ucakCount = 0;
    let kumarhaneCount = 0;
    let ceteUyeSayisi = 0;

    // ----------------------------------------------------
    // 3. HTML ELEMANLARI
    // ----------------------------------------------------
    const taskContainer = document.getElementById('taskContainer');
    const rankTitle = document.getElementById('rankTitle');
    const taskDescription = document.getElementById('taskDescription');
    const completeTaskBtn = document.getElementById('completeTaskBtn');
    const countdownTimer = document.getElementById('countdownTimer');
    const timerValue = document.getElementById('timerValue');

    // ----------------------------------------------------
    // RÃœTBE SEÃ‡Ä°MÄ°
    // ----------------------------------------------------
    function selectRank(rank) {
      if (isCooldown) {
        alert("Yeni gÃ¶revi seÃ§ebilmek iÃ§in bekleme sÃ¼resinin dolmasÄ±nÄ± bekleyin!");
        return;
      }
      const totalBadges = blueBadgeCount + orangeBadgeCount + redBadgeCount;
      if (rank === "Baron" && totalBadges < 2) {
        alert("Baron seviyesine geÃ§mek iÃ§in en az 2 rozet kazanmalÄ±sÄ±nÄ±z!");
        return;
      }
      currentRank = rank;
      showNextTask();
    }

    // ----------------------------------------------------
    // GÃ–REV GÃ–STERME (Kademeli sistem)
    // ----------------------------------------------------
    function showNextTask() {
      taskContainer.classList.add('active');
      countdownTimer.style.display = "none";
      completeTaskBtn.disabled = false;
      
      let currentTier, taskIndex, taskCount;
      if (currentRank === "Vakur") {
        taskCount = vakurTaskCount;
        let tierIndex = Math.floor(taskCount / 8);
        if (tierIndex >= tierOrder.length) {
          rankTitle.innerText = "Vakur GÃ¶revleri";
          taskDescription.innerText = "TÃ¼m Vakur gÃ¶revlerini tamamladÄ±nÄ±z!";
          completeTaskBtn.disabled = true;
          return;
        }
        currentTier = tierOrder[tierIndex];
        taskIndex = taskCount % 8;
        rankTitle.innerText = "Vakur GÃ¶revi (" + currentTier + " - Mavi ğŸ…)";
        taskDescription.innerText = tasks.vakur[currentTier][taskIndex];
      } else if (currentRank === "Hatip") {
        taskCount = hatipTaskCount;
        let tierIndex = Math.floor(taskCount / 8);
        if (tierIndex >= tierOrder.length) {
          rankTitle.innerText = "Hatip GÃ¶revleri";
          taskDescription.innerText = "TÃ¼m Hatip gÃ¶revlerini tamamladÄ±nÄ±z!";
          completeTaskBtn.disabled = true;
          return;
        }
        currentTier = tierOrder[tierIndex];
        taskIndex = taskCount % 8;
        rankTitle.innerText = "Hatip GÃ¶revi (" + currentTier + " - Turuncu ğŸ…)";
        taskDescription.innerText = tasks.hatip[currentTier][taskIndex];
      } else if (currentRank === "Baron") {
        taskCount = baronTaskCount;
        let tierIndex = Math.floor(taskCount / 8);
        if (tierIndex >= tierOrder.length) {
          rankTitle.innerText = "Baron GÃ¶revleri";
          taskDescription.innerText = "TÃ¼m Baron gÃ¶revlerini tamamladÄ±nÄ±z!";
          completeTaskBtn.disabled = true;
          return;
        }
        currentTier = tierOrder[tierIndex];
        taskIndex = taskCount % 8;
        rankTitle.innerText = "Baron GÃ¶revi (" + currentTier + " - KÄ±rmÄ±zÄ± ğŸ…)";
        taskDescription.innerText = tasks.baron[currentTier][taskIndex];
      }
    }

    // ----------------------------------------------------
    // GÃ–REV TAMAMLAMA VE Ã–DÃœL VERME (Kademeli sayaÃ§)
    // ----------------------------------------------------
    function completeTask() {
      if (currentRank === "Vakur") {
        if (vakurTaskCount < 40) {
          let rozetKazanc = getRandomRozet();
          blueBadgeCount += rozetKazanc;
          dayaniklilik += rozetKazanc;
          alert(`GÃ¶revi tamamladÄ±nÄ±z! +${rozetKazanc} Mavi Rozet (Vakur)`);
          vakurTaskCount++;
        } else {
          alert("Bu rÃ¼tbeye ait geÃ§erli bir gÃ¶rev kalmadÄ±!");
          return;
        }
      } else if (currentRank === "Hatip") {
        if (hatipTaskCount < 40) {
          let rozetKazanc = getRandomRozet();
          orangeBadgeCount += rozetKazanc;
          nufus += rozetKazanc;
          onur += rozetKazanc;
          alert(`GÃ¶revi tamamladÄ±nÄ±z! +${rozetKazanc} Turuncu Rozet (Hatip) \n+${rozetKazanc} Onur`);
          hatipTaskCount++;
        } else {
          alert("Bu rÃ¼tbeye ait geÃ§erli bir gÃ¶rev kalmadÄ±!");
          return;
        }
      } else if (currentRank === "Baron") {
        if (baronTaskCount < 40) {
          let rozetKazanc = getRandomRozet();
          redBadgeCount += rozetKazanc;
          let cashGain = getRandomMoney(300, 800);
          money += cashGain;
          if (blueBadgeCount > 0) {
            blueBadgeCount -= 1;
            dayaniklilik = Math.max(dayaniklilik - 1, 0);
            alert(`GÃ¶revi tamamladÄ±nÄ±z! +${rozetKazanc} KÄ±rmÄ±zÄ± Rozet (Baron), +${cashGain} $ \n(Mavi Rozet -1)`);
          } else {
            alert(`GÃ¶revi tamamladÄ±nÄ±z! +${rozetKazanc} KÄ±rmÄ±zÄ± Rozet (Baron), +${cashGain} $`);
          }
          baronTaskCount++;
        } else {
          alert("Bu rÃ¼tbeye ait geÃ§erli bir gÃ¶rev kalmadÄ±!");
          return;
        }
      }
      
      updateBadgesUI();
      updateMoneyUI();
      checkBaronUnlock();
      startCooldown();
    }

    // ----------------------------------------------------
    // RASTGELE Ã–DÃœL ÃœRETÄ°MÄ° FONKSÄ°YONLARI
    // ----------------------------------------------------
    function getRandomRozet() {
      return Math.floor(Math.random() * 3) + 1;
    }
    
    function getRandomMoney(min, max) {
      return Math.floor(Math.random() * (max - min + 1)) + min;
    }

    // ----------------------------------------------------
    // 10 SN BEKLEME SÃœRESÄ° (Cooldown)
    // ----------------------------------------------------
    function startCooldown() {
      isCooldown = true;
      completeTaskBtn.disabled = true;
      countdownTimer.style.display = "block";
      timeLeft = 10;
      timerValue.innerText = timeLeft;
      cooldownTimer = setInterval(() => {
        timeLeft--;
        timerValue.innerText = timeLeft;
        if (timeLeft <= 0) {
          clearInterval(cooldownTimer);
          isCooldown = false;
          countdownTimer.style.display = "none";
          alert("SÃ¼re doldu! Yeni bir rÃ¼tbe seÃ§ebilirsiniz.");
          taskContainer.classList.remove('active');
        }
      }, 1000);
    }

    // ----------------------------------------------------
    // BARON KÄ°LÄ°T KONTROLÃœ
    // ----------------------------------------------------
    function checkBaronUnlock() {
      const totalBadges = blueBadgeCount + orangeBadgeCount + redBadgeCount;
      if (totalBadges >= 2) {
        document.getElementById('cardBaron').classList.remove('locked');
        document.getElementById('cardBaron').querySelector('button').style.visibility = "visible";
        document.getElementById('marketBtn').classList.remove('hidden');
        document.getElementById('kumarhaneBtn').classList.remove('hidden');
      }
    }

    // ----------------------------------------------------
    // MARKET VE ENVANTER Ä°ÅLEMLERÄ°
    // ----------------------------------------------------
    function buyItem(itemName, price) {
      if (money < price) {
        alert("Yeterli paranÄ±z yok!");
        return;
      }
      const totalBadges = blueBadgeCount + orangeBadgeCount + redBadgeCount;
      if (totalBadges < 2) {
        alert("SatÄ±n almak iÃ§in Baron seviyesine eriÅŸmelisiniz (en az 2 rozet)!");
        return;
      }
      money -= price;
      updateMoneyUI();
      switch(itemName) {
        case "KÃ¶y":
          if (hasKoy) {
            alert("Zaten bir kÃ¶yÃ¼nÃ¼z var!");
            return;
          }
          hasKoy = true;
          alert("KÃ¶y satÄ±n alÄ±ndÄ±!");
          document.getElementById('koyItem').style.display = "none";
          document.getElementById('koyPanelTrigger').style.display = "flex";
          break;
        case "At":
          atCount++;
          ceteUyeSayisi += 2;
          alert("At satÄ±n alÄ±ndÄ± (+2 Ã§ete Ã¼yesi)!");
          break;
        case "UÃ§ak":
          ucakCount++;
          ceteUyeSayisi += 5;
          alert("UÃ§ak satÄ±n alÄ±ndÄ± (+5 Ã§ete Ã¼yesi)!");
          break;
        case "Kumarhane":
          kumarhaneCount++;
          ceteUyeSayisi += 3;
          alert("Kumarhane kuruldu (+3 Ã§ete Ã¼yesi)!");
          break;
        default:
          break;
      }
      updateInventoryUI();
    }

    function updateInventoryUI() {
      const inventoryList = document.getElementById('inventoryList');
      inventoryList.innerHTML = "";
      if (hasKoy) {
        const divKoy = document.createElement('div');
        divKoy.innerHTML = `<img src="https://via.placeholder.com/32?text=K%C3%B6y" alt="KÃ¶y" /> KÃ¶y (1 adet)`;
        inventoryList.appendChild(divKoy);
      }
      if (atCount > 0) {
        const divAt = document.createElement('div');
        divAt.innerHTML = `<img src="https://via.placeholder.com/32?text=%F0%9F%90%8E" alt="At" /> At (x${atCount})`;
        inventoryList.appendChild(divAt);
      }
      if (ucakCount > 0) {
        const divUcak = document.createElement('div');
        divUcak.innerHTML = `<img src="https://via.placeholder.com/32?text=%E2%9C%88%EF%B8%8F" alt="UÃ§ak" /> UÃ§ak (x${ucakCount})`;
        inventoryList.appendChild(divUcak);
      }
      if (kumarhaneCount > 0) {
        const divKumar = document.createElement('div');
        divKumar.innerHTML = `<img src="https://via.placeholder.com/32?text=%24" alt="Kumarhane" /> Kumarhane (x${kumarhaneCount})`;
        inventoryList.appendChild(divKumar);
      }
      if (!hasKoy && atCount === 0 && ucakCount === 0 && kumarhaneCount === 0) {
        inventoryList.innerHTML = "<p>Envanteriniz boÅŸ!</p>";
      }
      document.getElementById('ceteUyeSayisi').innerText = ceteUyeSayisi;
    }

    // ----------------------------------------------------
    // KÃ–Y PANELÄ° MODAL AÃ‡/KAPAT
    // ----------------------------------------------------
    function toggleKoyPanelModal() {
      updateInventoryUI();
      document.getElementById('koyModal').classList.toggle('active');
    }

    // ----------------------------------------------------
    // ROZETLER MODAL AÃ‡/KAPAT
    // ----------------------------------------------------
    function toggleBadgesModal() {
      document.getElementById('badgesModal').classList.toggle('active');
    }

    // ----------------------------------------------------
    // MARKET MODAL AÃ‡/KAPAT
    // ----------------------------------------------------
    function toggleMarketModal() {
      document.getElementById('marketModal').classList.toggle('active');
    }

    // ----------------------------------------------------
    // KUMARHANE MODAL AÃ‡/KAPAT
    // ----------------------------------------------------
    function toggleKumarhaneModal() {
      const kumarhaneModal = document.getElementById('kumarhaneModal');
      kumarhaneModal.classList.toggle('active');
      document.getElementById('gambleResult').innerText = "";
      document.getElementById('betAmount').value = "";
    }

    // ----------------------------------------------------
    // KUMARHANE OYUN FONKSÄ°YONU
    // ----------------------------------------------------
    function playGamble() {
      const betInput = document.getElementById('betAmount');
      const gambleResult = document.getElementById('gambleResult');
      const bet = parseInt(betInput.value);
      if (isNaN(bet) || bet <= 0) {
        gambleResult.innerText = "GeÃ§erli bir bahis miktarÄ± giriniz.";
        return;
      }
      if (bet > money) {
        gambleResult.innerText = "Yeterli bakiyeniz yok!";
        return;
      }
      const chance = Math.random();
      if (chance < 0.5) {
        money += bet;
        gambleResult.innerText = `KazandÄ±nÄ±z! Yeni bakiye: ${money} $`;
      } else {
        money -= bet;
        gambleResult.innerText = `Kaybettiniz! Yeni bakiye: ${money} $`;
      }
      updateMoneyUI();
    }

    // ----------------------------------------------------
    // ARAYÃœZ GÃœNCELLEME FONKSÄ°YONLARI
    // ----------------------------------------------------
    function updateBadgesUI() {
      document.getElementById('blueBadgeCount').innerText = blueBadgeCount;
      document.getElementById('orangeBadgeCount').innerText = orangeBadgeCount;
      document.getElementById('redBadgeCount').innerText = redBadgeCount;
      document.getElementById('dayaniklikValue').innerText = dayaniklilik;
      let dBarWidth = dayaniklilik * 10;
      if(dBarWidth > 300) dBarWidth = 300;
      document.getElementById('dayaniklikBar').style.width = dBarWidth + "px";
      document.getElementById('onurValue').innerText = onur;
      let oBarWidth = onur * 10;
      if(oBarWidth > 300) oBarWidth = 300;
      document.getElementById('onurBar').style.width = oBarWidth + "px";
      document.getElementById('nufus').innerText = nufus;
    }

    function updateMoneyUI() {
      document.getElementById('money').innerText = money;
    }
  </script>
</body>
</html>
