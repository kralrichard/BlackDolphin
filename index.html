<!DOCTYPE html><html lang="tr"><head><!--1--><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Black Dolphine â€“ Mafia Oyunu</title><style><!--2-->
:root{--bg-dark:#121212;--bg-light:#f4f4f4;--panel-dark:#1e1e1e;--accent-vakur:#1e90ff;--accent-hatip:#ffa500;--accent-baron:#ff4500;--text-light:#f4f4f4;--text-dark:#333;--bar-bg:#ccc;}/*3*/
*{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI',sans-serif;}/*4*/
html,body{height:100%;}/*5*/
body{display:flex;overflow:hidden;background:var(--bg-light);color:var(--text-dark);}/*6*/
/*SIDEBAR*/ /*7*/
nav{width:220px;background:var(--panel-dark);color:var(--text-light);display:flex;flex-direction:column;}/*8*/
nav ul{list-style:none;overflow-y:auto;flex:1;}/*9*/
nav li a{display:block;padding:12px 20px;color:inherit;text-decoration:none;border-bottom:1px solid #333;transition:.2s;}/*10*/
nav li a:hover,nav li a.active{background:var(--accent-vakur);}/*11*/
nav .locked{opacity:.5;pointer-events:none;}/*12*/
nav .search{padding:10px;}/*13*/
nav .search input{width:100%;padding:8px;border:none;border-radius:4px;}/*14*/
/*Durumum kahverengi*/ /*15*/
.navDurum{background:brown!important;color:#fff!important;}/*16*/
/*Vakur(mavi),Hatip(turuncu),Baron(kÄ±rmÄ±zÄ±)*/ /*17*/
.navVakur{background:var(--accent-vakur)!important;color:#fff!important;}/*18*/
.navHatip{background:var(--accent-hatip)!important;color:#fff!important;}/*19*/
.navBaron{background:var(--accent-baron)!important;color:#fff!important;}/*20*/
/*MAIN*/ /*21*/
main{flex:1;display:flex;flex-direction:column;overflow-y:auto;}/*22*/
header{background:var(--bg-dark);color:var(--text-light);display:flex;justify-content:space-between;align-items:center;padding:.5rem 1rem;flex-shrink:0;}/*23*/
.logo{font-size:1.4rem;font-weight:bold;}/*24*/
.balance{background:#222;padding:.5rem 1rem;border-radius:4px;color:lime;}/*25*/
/*4 RAILS*/ /*26*/
.rail-container{position:relative;margin:1rem 0;flex-shrink:0;}/*27*/
.rail-label{position:absolute;top:-1.2rem;left:1rem;color:var(--text-dark);font-weight:bold;}/*28*/
.stations{display:flex;padding:0 1rem;margin-bottom:4px;flex-wrap:wrap;}/*29*/
.stations span{flex:1;text-align:center;font-size:.75rem;color:var(--text-dark);cursor:pointer;margin:2px 0;}/*30*/
.stations span.visited{color:var(--accent-vakur);font-weight:bold;}/*31*/
canvas.rail{width:100%;height:60px;cursor:pointer;}/*32*/
/*CENTER RANKS*/ /*33*/
#centerRanks{display:flex;justify-content:center;gap:2rem;padding:1rem;flex-shrink:0;flex-wrap:nowrap;}/*34*/
.card{background:var(--panel-dark);color:var(--text-light);padding:1rem;border-radius:8px;text-align:center;width:120px;cursor:pointer;}/*35*/
.card.locked{opacity:.5;pointer-events:none;}/*36*/
.card h2{margin-bottom:.5rem;text-transform:uppercase;}/*37*/
.card button{border:none;color:#fff;padding:.5rem 1rem;border-radius:4px;cursor:pointer;}/*38*/
.card.vakur{background:var(--accent-vakur);}/*39*/
.card.hatip{background:var(--accent-hatip);}/*40*/
.card.baron{background:var(--accent-baron);}/*41*/
/*OVERLAY/TASKS*/ /*42*/
#overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.7);display:none;align-items:center;justify-content:center;}/*43*/
#panel{background:var(--bg-light);width:90%;max-width:600px;max-height:80%;overflow-y:auto;border-radius:8px;padding:1rem;position:relative;}/*44*/
#closeBtn{position:absolute;top:.5rem;right:.5rem;background:var(--accent-vakur);border:none;color:#fff;padding:.3rem .6rem;border-radius:4px;cursor:pointer;}/*45*/
.rankSection{margin-bottom:1rem;}/*46*/
.rankSection h3{margin-bottom:.5rem;color:var(--accent-vakur);}/*47*/
.taskItem{background:var(--bar-bg);padding:.5rem;display:flex;justify-content:space-between;border-radius:4px;margin-bottom:.3rem;align-items:center;}/*48*/
.taskItem.done{background:#a8e6cf;}/*49*/
.taskItem button{border:none;color:#fff;padding:.3rem .6rem;border-radius:4px;cursor:pointer;background:var(--accent-vakur);}/*50*/
/*STATUS BARS*/ /*51*/
.status-bar{margin-bottom:1rem;}/*52*/
.status-bar .label{display:flex;align-items:center;gap:.5rem;margin-bottom:.3rem;font-weight:bold;}/*53*/
.status-bar .bar{background:var(--bar-bg);height:16px;border-radius:8px;overflow:hidden;}/*54*/
.status-bar .bar .fill{height:100%;width:0;}/*55*/
.vakur-fill{background:gold;}/*56*/
.vakur-ros{background:blue;}/*57*/
.hatip-fill{background:purple;}/*58*/
.hatip-ros{background:orange;}/*59*/
.baron-fill{background:white;}/*60*/
.baron-ros{background:red;}/*61*/
/*PANELS*/ /*62*/
aside{width:260px;background:var(--panel-dark);color:var(--text-light);overflow-y:auto;flex-shrink:0;}/*63*/
.panel{padding:20px;border-bottom:1px solid #333;display:none;}/*64*/
.panel.active{display:block;}/*65*/
.panel h3{margin-bottom:10px;color:var(--accent-vakur);}/*66*/
.sub-tabs{display:flex;gap:8px;margin-bottom:10px;flex-wrap:wrap;}/*67*/
.sub-tabs button{background:#444;border:none;color:var(--text-light);padding:6px 10px;border-radius:4px;cursor:pointer;}/*68*/
.sub-tabs button.active{background:var(--accent-vakur);}/*69*/
.sub-content ul{list-style:none;max-height:200px;overflow-y:auto;padding-left:0;}/*70*/
.sub-content li{display:flex;justify-content:space-between;margin-bottom:6px;}/*71*/
.sub-content li button{background:var(--accent-vakur);border:none;color:#fff;padding:4px 8px;border-radius:4px;cursor:pointer;}/*72*/
table{border-collapse:collapse;}/*73*/
/*CHAT*/ /*74*/
#chatBox{position:fixed;bottom:20px;left:50%;transform:translateX(-50%);width:60%;background:var(--panel-dark);color:var(--text-light);padding:10px;border-radius:8px;max-height:200px;overflow-y:auto;}/*75*/
#messageIcon{position:fixed;bottom:20px;right:20px;background:var(--accent-vakur);padding:10px;border-radius:50%;color:#fff;cursor:pointer;}/*76*/
/*MOBILE*/ /*77*/
@media(max-width:768px){nav,aside{width:100%;order:2;}nav ul{display:flex;flex-wrap:wrap;overflow-x:auto;}main{order:1;}header{justify-content:center;}#centerRanks{flex-wrap:wrap;gap:1rem;justify-content:center;}.panel{padding:10px;}.stations span{font-size:.65rem;}#chatBox{width:90%;bottom:10px;}#messageIcon{bottom:10px;right:10px;}}/*78*/
</style></head><body><!--79-->
<nav><!--80--><ul><!--81-->
<li><a href="#"class="navDurum active"onclick="togglePanel('durum')">Durumum</a></li><!--82-->
<li><a href="#"onclick="togglePanel('aile')">Ailem</a></li><!--83-->
<li><a href="#"onclick="togglePanel('davetEt')">Davet Et</a></li><!--84-->
<li><a href="#"onclick="togglePanel('tuccar')">TÃ¼ccar</a></li><!--85-->
<li><a href="#"onclick="togglePanel('mesajlar')">MesajlarÄ±m</a></li><!--86-->
<li><a href="#"onclick="togglePanel('avlan')">Avlan</a></li><!--87-->
<li><a href="#"onclick="togglePanel('acikArttirma')">AÃ§Ä±k ArttÄ±rma</a></li><!--88-->
<li><a href="#"onclick="togglePanel('kacak')">KaÃ§akÃ§Ä±lÄ±k</a></li><!--89-->
<li><a href="#"class="navVakur"onclick="openTasks('Vakur')">Vakur GÃ¶revleri</a></li><!--90-->
<li><a href="#"class="navHatip locked"onclick="openTasks('Hatip')">Hatip GÃ¶revleri</a></li><!--91-->
<li><a href="#"class="navBaron locked"onclick="openTasks('Baron')">Baron GÃ¶revleri</a></li><!--92-->
<li><a href="#"onclick="togglePanel('atYarisi')">At YarÄ±ÅŸÄ±</a></li><!--93-->
<li><a href="#"onclick="togglePanel('atBilgiler')">At Bilgileri</a></li><!--94-->
<li><a href="#"onclick="togglePanel('oyunIci')">Oyun Ä°Ã§i Bilgiler</a></li><!--95-->
<li><a href="#"onclick="togglePanel('aranan')">Arananlar</a></li><!--96-->
<li><a href="#"onclick="togglePanel('oyunlar')">Oyunlar</a></li><!--97-->
<li><a href="#"onclick="togglePanel('koy')">KÃ¶y Ä°ncelemesi</a></li><!--98-->
<li><a href="#"onclick="togglePanel('tren')">Tren Seyahatleri</a></li><!--99-->
</ul><div class="search"><input type="text"placeholder="KullanÄ±cÄ± ara..."></div><!--100--></nav><!--101-->
<main><!--102-->
<header><!--103--><div class="logo">BLACK DOLPHINE</div><div class="balance"id="moneyDisplay">$500,000</div><!--104--></header><!--105-->
<div class="rail-container"><div class="rail-label">GidiÅŸ RotasÄ± I</div><div class="stations"id="stationsOut1"></div><canvas id="railOut1"class="rail"></canvas></div><!--106-->
<div class="rail-container"><div class="rail-label">GidiÅŸ RotasÄ± II</div><div class="stations"id="stationsOut2"></div><canvas id="railOut2"class="rail"></canvas></div><!--107-->
<div class="rail-container return"><div class="rail-label return">DÃ¶nÃ¼ÅŸ RotasÄ± I</div><div class="stations"id="stationsBack1"></div><canvas id="railBack1"class="rail"></canvas></div><!--108-->
<div class="rail-container return"><div class="rail-label return">DÃ¶nÃ¼ÅŸ RotasÄ± II</div><div class="stations"id="stationsBack2"></div><canvas id="railBack2"class="rail"></canvas></div><!--109-->
<div id="centerRanks"><div class="card vakur"id="cardVakur"><h2>VAKUR</h2><button onclick="openTasks('Vakur')">SerÃ¼ven</button></div><div class="card hatip locked"id="cardHatip"><h2>HATÄ°P</h2><button onclick="openTasks('Hatip')">SerÃ¼ven</button></div><div class="card baron locked"id="cardBaron"><h2>BARON</h2><button onclick="openTasks('Baron')">SerÃ¼ven</button></div></div><!--110-->
</main><!--111-->
<aside><!--112-->
<div class="panel active"id="durumPanel"><h3>Durumum</h3><!--113-->
<!--SaldÄ±rÄ± (kÄ±rmÄ±zÄ±)--> <!--114-->
<div class="status-bar"><div class="label">SaldÄ±rÄ± (kÄ±rmÄ±zÄ±)</div><div class="bar"><div class="fill"id="saldiriBar"style="background:red;width:0;"></div></div></div><!--115-->
<!--Savunma (yeÅŸil)--> <!--116-->
<div class="status-bar"><div class="label">Savunma (yeÅŸil)</div><div class="bar"><div class="fill"id="savunmaBar"style="background:green;width:0;"></div></div></div><!--117-->
<!--Hatip turuncu (nÃ¼fus sembolÃ¼)--> <!--118-->
<div class="status-bar"><div class="label">NÃ¼fus ğŸ˜ï¸</div><div class="bar"><div class="fill"id="hatipNufusBar"style="background:var(--accent-hatip);width:0;"></div></div></div><!--119-->
<!--Eski barlar--> <!--120-->
<div class="status-bar"><div class="label">ğŸ›¡ï¸ Vakur %<span id="vakurPct">0</span></div><div class="bar"><div class="fill vakur-fill"id="vakurBar"></div></div></div><!--121-->
<div class="status-bar"><div class="label">ğŸ… Vakur Rozet <span id="vakurRos">0</span></div><div class="bar"><div class="fill vakur-ros"id="vakurRosBar"></div></div></div><!--122-->
<div class="status-bar"><div class="label">ğŸ˜ï¸ Hatip %<span id="hatipPct">0</span></div><div class="bar"><div class="fill hatip-fill"id="hatipBar"></div></div></div><!--123-->
<div class="status-bar"><div class="label">ğŸ… Hatip Rozet <span id="hatipRos">0</span></div><div class="bar"><div class="fill hatip-ros"id="hatipRosBar"></div></div></div><!--124-->
<div class="status-bar"><div class="label">âš¡ï¸ Baron %<span id="baronPct">0</span></div><div class="bar"><div class="fill baron-fill"id="baronBar"></div></div></div><!--125-->
<div class="status-bar"><div class="label">ğŸ… Baron Rozet <span id="baronRos">0</span></div><div class="bar"><div class="fill baron-ros"id="baronRosBar"></div></div></div><!--126-->
</div><!--127-->
<div class="panel"id="davetEtPanel"><h3>Davet Et</h3><p>ArkadaÅŸlarÄ±nÄ± oyuna davet edebilir, birlikte gÃ¼Ã§lenebilirsiniz!</p></div><!--128-->
<div class="panel"id="koyPanel"><h3>KÃ¶y Ä°ncelemesi</h3><div class="sub-tabs"id="koyTabs"></div><div id="koyContent"></div></div><!--129-->
<div class="panel"id="trenPanel"><h3>Tren Seyahatleri</h3><div class="sub-tabs"id="trenTabs"></div><div id="trenContent"></div></div><!--130-->
<div class="panel"id="ailePanel"><h3>Ailem</h3></div><div class="panel"id="tuccarPanel"><h3>TÃ¼ccar</h3></div><div class="panel"id="mesajlarPanel"><h3>MesajlarÄ±m</h3></div><div class="panel"id="avlanPanel"><h3>Avlan</h3></div><div class="panel"id="acikArttirmaPanel"><h3>AÃ§Ä±k ArttÄ±rma</h3></div><div class="panel"id="kacakPanel"><h3>KaÃ§akÃ§Ä±lÄ±k</h3></div><div class="panel"id="atYarisiPanel"><h3>At YarÄ±ÅŸÄ±</h3></div><div class="panel"id="atBilgilerPanel"><h3>At Bilgileri</h3></div><div class="panel"id="oyunIciPanel"><h3>Oyun Ä°Ã§i Bilgiler</h3></div><div class="panel"id="arananPanel"><h3>Arananlar</h3></div><div class="panel"id="oyunlarPanel"><h3>Oyunlar</h3></div><!--131-->
</aside><!--132-->
<div id="overlay"onclick="closeTasks()"><div id="panel"onclick="event.stopPropagation()"><button id="closeBtn"onclick="closeTasks()">âœ–</button><h2 id="taskHeader"></h2><div id="taskSections"></div></div></div><!--133-->
<div id="chatBox"contenteditable="true">CHAT baÅŸlÄ±yor...</div><div id="messageIcon">ğŸ“©</div><!--134-->
<script><!--135*/
/***************************************
 1) GLOBAL
***************************************/
let playerMoney=500000;let globalCooldown=false;/*136*/
/***************************************
 2) KÃ–Y LÄ°STESÄ° ve 4 RAY
***************************************/
const villages=["Asman","Mizrin","Qeruk","TwÄ±lveser","Ashma","Ogean","Karuk","Tilkarut","Midep","Emerk","Tilal","Olik","MÄ±shecerk","MÄ±zelb","KergÃ¼","CinnÄ±k","Masucark","KÄ±rÄ±kan","Kuzluk","Qeremsal","MedÄ±rbaz","Hecuk","ZebeÅŸker","MirÄŸan","Dideri","KazÄ±ka","Nehlnehli","Birdirej","Cembel","Mizar","Tihonek","Giregewr","Keferqub","Marut","Avamur","BubÄ±k","AÅŸme","OÄŸan","Mirxan","Thashluk"];/*137*/
const out1=villages.slice(0,20),out2=villages.slice(20,40),back1=out1,back2=out2;/*138*/
const visitedOut1=new Array(20).fill(false),visitedOut2=new Array(20).fill(false),visitedBack1=new Array(20).fill(false),visitedBack2=new Array(20).fill(false);/*139*/
visitedOut1[0]=true;/*140*/
window.onload=()=>{drawAllRails();populateStations('stationsOut1',out1,visitedOut1,'out1');populateStations('stationsOut2',out2,visitedOut2,'out2');populateStations('stationsBack1',back1,visitedBack1,'back1');populateStations('stationsBack2',back2,visitedBack2,'back2');initTrainTabs();initKoyTabs();updateMoneyDisplay();};/*141*/
window.onresize=()=>{drawAllRails();};/*142*/
function drawAllRails(){drawRail('railOut1','#555','var(--accent-vakur)',out1,visitedOut1);drawRail('railOut2','#555','var(--accent-vakur)',out2,visitedOut2);drawRail('railBack1','#555','var(--accent-baron)',back1,visitedBack1);drawRail('railBack2','#555','var(--accent-baron)',back2,visitedBack2);}/*143*/
function drawRail(canvasId,color1,colorCSSVar,arr,visitedArr){const c=document.getElementById(canvasId),ctx=c.getContext('2d');c.width=c.offsetWidth;c.height=c.offsetHeight;const accent=getComputedStyle(document.documentElement).getPropertyValue(colorCSSVar).trim();ctx.strokeStyle=color1;ctx.lineWidth=4;ctx.beginPath();ctx.moveTo(0,c.height/2);ctx.lineTo(c.width,c.height/2);ctx.stroke();ctx.strokeStyle=accent;ctx.lineWidth=2;for(let i=1;i<=20;i++){const x=c.width*i/21;ctx.beginPath();ctx.moveTo(x,c.height/2-10);ctx.lineTo(x,c.height/2+10);ctx.stroke();ctx.beginPath();if(visitedArr[i-1])ctx.fillStyle="green";else ctx.fillStyle="red";ctx.arc(x,c.height/2,4,0,Math.PI*2);ctx.fill();}}/*144*/
function populateStations(containerId,arr,visitedArr,type){const cont=document.getElementById(containerId);cont.innerHTML="";arr.forEach((v,idx)=>{const sp=document.createElement("span");sp.textContent=v;if(visitedArr[idx])sp.classList.add("visited");sp.onclick=()=>travelTo(type,idx);cont.appendChild(sp);});}/*145*/
function travelTo(rotatype,index){let arr,visitedArr;if(rotatype==="out1"){arr=out1;visitedArr=visitedOut1;}else if(rotatype==="out2"){arr=out2;visitedArr=visitedOut2;}else if(rotatype==="back1"){arr=back1;visitedArr=visitedBack1;}else{arr=back2;visitedArr=visitedBack2;}if(visitedArr[index]){alert(arr[index]+" kÃ¶yÃ¼ne zaten gittiniz!");return;}if(playerMoney<500){alert("Yeterli paranÄ±z yok!");return;}if(visitedOut1[0]&&!(rotatype==="out1"&&index===0)){visitedOut1[0]=false;setTimeout(()=>{drawAllRails();},10000);}playerMoney-=500;visitedArr[index]=true;updateMoneyDisplay();alert(arr[index]+" kÃ¶yÃ¼ne gittiniz! (500$)");populateStations('stationsOut1',out1,visitedOut1,'out1');populateStations('stationsOut2',out2,visitedOut2,'out2');populateStations('stationsBack1',back1,visitedBack1,'back1');populateStations('stationsBack2',back2,visitedBack2,'back2');drawAllRails();}/*146*/
/***************************************
 3) TREN (5 sekme x 8 kÃ¶y)
***************************************/
function initTrainTabs(){const trenTabs=document.getElementById("trenTabs");for(let i=0;i<5;i++){const b=document.createElement("button");b.textContent="Tren "+(i+1);b.onclick=()=>{document.querySelectorAll("#trenTabs button").forEach(xx=>xx.classList.remove("active"));b.classList.add("active");renderTrainTab(i);};if(i===0)b.classList.add("active");trenTabs.appendChild(b);}renderTrainTab(0);}/*147*/
function renderTrainTab(tabIndex){const trenContent=document.getElementById("trenContent");trenContent.innerHTML="";const start=tabIndex*8,end=start+8;const slice=villages.slice(start,end);slice.forEach(koy=>{const div=document.createElement("div");div.style.marginBottom="6px";div.innerHTML=`<strong>${koy}</strong> <button>Seyahat</button>`;const btn=div.querySelector("button");btn.onclick=()=>{let i=out1.indexOf(koy);if(i>=0){travelTo("out1",i);return;}i=out2.indexOf(koy);if(i>=0){travelTo("out2",i);return;}i=back1.indexOf(koy);if(i>=0){travelTo("back1",i);return;}i=back2.indexOf(koy);if(i>=0){travelTo("back2",i);return;}};trenContent.appendChild(div);});}/*148*/
/***************************************
 4) KÃ–Y (5 sekme x 8 kÃ¶y)
***************************************/
function initKoyTabs(){const koyTabs=document.getElementById("koyTabs");for(let i=0;i<5;i++){const b=document.createElement("button");b.textContent="BÃ¶lge "+(i+1);b.onclick=()=>{document.querySelectorAll("#koyTabs button").forEach(x=>x.classList.remove("active"));b.classList.add("active");renderKoyTab(i);};if(i===0)b.classList.add("active");koyTabs.appendChild(b);}renderKoyTab(0);}/*149*/
function renderKoyTab(tabIndex){const koyContent=document.getElementById("koyContent");koyContent.innerHTML="";const start=tabIndex*8,end=start+8;const slice=villages.slice(start,end);slice.forEach(koy=>{const div=document.createElement("div");div.style.marginBottom="6px";div.innerHTML=`<strong>${koy}</strong> <button>Ä°ncele</button>`;const btn=div.querySelector("button");btn.onclick=()=>{const malOptions=[5,10,15],villaOptions=[25,50,75],sigOptions=[50,75,100];const mal=malOptions[Math.floor(Math.random()*malOptions.length)],vil=villaOptions[Math.floor(Math.random()*villaOptions.length)],siga=sigOptions[Math.floor(Math.random()*sigOptions.length)];alert(`${koy} kÃ¶yÃ¼nde:\n- Malikhane: ${mal}\n- Villa: ${vil}\n- SÄ±ÄŸÄ±nak: ${siga}`);};koyContent.appendChild(div);});}/*150*/
/***************************************
 5) VAKUR GÃ–REVLER (Ã‡Ä±rak -> Usta)
***************************************/
const vakurDifficulties=[{title:"Ã‡IRAK VAKUR I",locked:false,tasks:[{text:"Bir Ã§ocuÄŸun okul Ã§antasÄ± almasÄ±na yardÄ±mcÄ± ol.",state:"idle",timeLeft:0,interval:null},{text:"Mahalledeki yaÅŸlÄ± bir komÅŸunun alÄ±ÅŸveriÅŸ poÅŸetlerini taÅŸÄ±.",state:"idle",timeLeft:0,interval:null},{text:"Sokaktaki sahipsiz bir kÃ¶pek iÃ§in su ve mama koy.",state:"idle",timeLeft:0,interval:null},{text:"ArkadaÅŸÄ±na ufak bir hediye vererek moralini yÃ¼kselt.",state:"idle",timeLeft:0,interval:null},{text:"Ä°ÅŸsiz bir tanÄ±dÄ±ÄŸÄ±na CV hazÄ±rlama konusunda destek ol.",state:"idle",timeLeft:0,interval:null},{text:"KÃ¼tÃ¼phanede eski kitaplarÄ± dÃ¼zenlemeye gÃ¶nÃ¼llÃ¼ ol.",state:"idle",timeLeft:0,interval:null},{text:"Bir hayÄ±r kurumuna ufak bir baÄŸÄ±ÅŸ yap veya yardÄ±m topla.",state:"idle",timeLeft:0,interval:null},{text:"OtobÃ¼ste yaÅŸlÄ± veya hamile birine yer ver.",state:"idle",timeLeft:0,interval:null},{text:"Mahalle parkÄ±nda Ã§Ã¶p toplama etkinliÄŸine katÄ±l.",state:"idle",timeLeft:0,interval:null},{text:"ArkadaÅŸÄ±na kÃ¼Ã§Ã¼k bir sÃ¼rpriz parti dÃ¼zenle.",state:"idle",timeLeft:0,interval:null}]},{title:"USTA VAKUR II",locked:true,tasks:[{text:"Aile iÃ§inde tartÄ±ÅŸan iki akrabayÄ± barÄ±ÅŸtÄ±r.",state:"idle",timeLeft:0,interval:null},{text:"Mahallede yardÄ±m kermesi veya etkinlik organize et.",state:"idle",timeLeft:0,interval:null},{text:"Maddi durumu kÃ¶tÃ¼ bir Ã¶ÄŸrenciye burs ayarla.",state:"idle",timeLeft:0,interval:null},{text:"Bir STKâ€™nÄ±n etkinliÄŸinde aktif rol al.",state:"idle",timeLeft:0,interval:null},{text:"BakÄ±msÄ±z parkÄ± onarmak iÃ§in gÃ¶nÃ¼llÃ¼ler topla.",state:"idle",timeLeft:0,interval:null},{text:"Kan baÄŸÄ±ÅŸÄ± kampanyasÄ±na katkÄ±da bulun.",state:"idle",timeLeft:0,interval:null},{text:"Bir arkadaÅŸÄ±n iÃ§in profesyonel yardÄ±m aracÄ±lÄ±ÄŸÄ± yap.",state:"idle",timeLeft:0,interval:null},{text:"ZorbalÄ±ÄŸa uÄŸrayan birine Ã§evrimiÃ§i destek bul.",state:"idle",timeLeft:0,interval:null},{text:"Engelliler iÃ§in kamu binalarÄ±na eriÅŸim kolaylÄ±ÄŸÄ± saÄŸla.",state:"idle",timeLeft:0,interval:null},{text:"Sokak hayvanlarÄ± iÃ§in geÃ§ici barÄ±nak oluÅŸtur.",state:"idle",timeLeft:0,interval:null}]}].map(d=>({...d,tasks:d.tasks.map(t=>({...t}))}));/*151*/
/***************************************
 6) HATIP / BARON
***************************************/
const hatipDifficulties=[{title:"Ã‡IRAK HATÄ°P I",locked:false,tasks:["..."]}].map(d=>({...d,tasks:d.tasks.map(x=>({text:x,state:"idle",timeLeft:0,interval:null}))}));/*152*/
const baronDifficulties=[{title:"Ã‡IRAK BARON I",locked:false,tasks:["..."]}].map(d=>({...d,tasks:d.tasks.map(x=>({text:x,state:"idle",timeLeft:0,interval:null}))}));/*153*/
const difficultiesMap={Vakur:vakurDifficulties,Hatip:hatipDifficulties,Baron:baronDifficulties};/*154*/
/***************************************
 7) GÃ–REV MODAL
***************************************/
function openTasks(rank){document.getElementById('overlay').style.display='flex';document.getElementById('taskHeader').textContent=rank+" GÃ¶revleri";const cont=document.getElementById('taskSections');cont.innerHTML="";difficultiesMap[rank].forEach((dif,idx)=>{const section=document.createElement("div");section.className="rankSection";const h3=document.createElement("h3");h3.textContent=dif.title+(dif.locked?" (Kilitli)":"");section.appendChild(h3);/*Progress bar*/const doneCount=dif.tasks.filter(x=>x.state==="done").length;const total=dif.tasks.length;const pct=(doneCount/total)*100;const pr=document.createElement("div");pr.style.margin=".5rem 0";pr.innerHTML=`<div style="background:#ccc;height:10px;width:100%;border-radius:5px;overflow:hidden;"><div style="background:turquoise;height:100%;width:${pct}%"></div></div><div style="font-size:0.8rem;text-align:right;">${doneCount}/${total} gÃ¶rev bitti (%${pct.toFixed(0)})</div>`;section.appendChild(pr);dif.tasks.forEach(tObj=>{const div=document.createElement("div");div.className="taskItem"+(tObj.state==="done"?" done":"");let bt="Yap";if(dif.locked)bt="Kilitli";else if(tObj.state==="cdWait")bt="10sn bekleniyor...";else if(tObj.state==="inProgress")bt=formatTime(tObj.timeLeft);else if(tObj.state==="done")bt="TamamlandÄ±";div.innerHTML=`<span>${tObj.text}</span><button>${bt}</button>`;const btn=div.querySelector("button");if(dif.locked||tObj.state==="cdWait"||tObj.state==="inProgress"||tObj.state==="done"){btn.disabled=true;}btn.onclick=()=>startTask(rank,idx,tObj,btn);section.appendChild(div);});cont.appendChild(section);});}/*155*/
function closeTasks(){document.getElementById('overlay').style.display='none';}/*156*/
function startTask(rank,difIndex,tObj,btn){if(globalCooldown){alert("Yeni bir gÃ¶reve baÅŸlamak iÃ§in 10sn beklemelisin!");return;}globalCooldown=true;tObj.state="cdWait";tObj.timeLeft=10;btn.textContent="10sn bekleniyor...";btn.disabled=true;const cInt=setInterval(()=>{tObj.timeLeft--;if(tObj.timeLeft<=0){clearInterval(cInt);tObj.state="inProgress";tObj.timeLeft=1800;updateTaskButton(btn,tObj,rank);tObj.interval=setInterval(()=>{tObj.timeLeft--;if(tObj.timeLeft<=0){clearInterval(tObj.interval);tObj.state="done";updateTaskButton(btn,tObj,rank);checkDifficultyCompletion(rank);openTasks(rank);}else{updateTaskButton(btn,tObj,rank);}},1000);globalCooldown=false;}else{btn.textContent=tObj.timeLeft+"sn bekleniyor...";}},1000);}/*157*/
function updateTaskButton(btn,tObj,rank){if(tObj.state==="inProgress"){btn.textContent=formatTime(tObj.timeLeft);}else if(tObj.state==="done"){btn.textContent="TamamlandÄ±";btn.parentElement.classList.add("done");}}/*158*/
function checkDifficultyCompletion(rank){const arr=difficultiesMap[rank];for(let i=0;i<arr.length;i++){const d=arr[i];const allDone=d.tasks.every(x=>x.state==="done");if(allDone){if(i<(arr.length-1)){arr[i+1].locked=false;}}}/*Usta aÃ§*/const allFinished=arr.every(dif=>dif.tasks.every(z=>z.state==="done"));if(allFinished){if(rank==="Vakur"){document.querySelector(".navHatip").classList.remove("locked");document.getElementById("cardHatip").classList.remove("locked");alert("Tebrikler! Vakur gÃ¶revlerini tamamladÄ±nÄ±z, Hatip gÃ¶revlerine geÃ§ebilirsiniz!");}}}/*159*/
function formatTime(sec){const m=Math.floor(sec/60),s=sec%60;return(m<10?"0"+m:m)+":"+(s<10?"0"+s:s);}/*160*/
/***************************************
 8) PARA GÃ–STERME
***************************************/
function updateMoneyDisplay(){document.getElementById("moneyDisplay").textContent="$"+playerMoney.toLocaleString();}/*161*/
/***************************************
 9) PANEL AÃ‡/KAPA
***************************************/
function togglePanel(panelId){document.querySelectorAll(".panel").forEach(p=>p.classList.remove("active"));const target=document.getElementById(panelId+"Panel");if(target)target.classList.add("active");}/*162*/
/*163*/
/*999*/
/*1000*/
/*1001Son*/
</script></body></html>
