<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>Black Dolphine - Mafia Oyunu</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    /* Temel sƒ±fƒ±rlama */
    * {
      margin: 0; padding: 0;
      box-sizing: border-box;
    }
    body {
      background: #888; /* Gri arka plan */
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
    }

    /* √úst (Siyah) Header */
    header {
      background: #000;
      color: #fff;
      width: 100%;
      padding: 20px 0;
      text-align: center;
      position: fixed;
      top: 0; left: 0;
      z-index: 1000;
      box-shadow: 0 2px 5px rgba(0,0,0,0.5);
    }
    .header-inner {
      display: flex; 
      align-items: center; 
      justify-content: center; 
      position: relative;
    }
    .logo-text {
      font-size: 2rem;
      font-weight: bold;
      text-transform: uppercase;
      letter-spacing: 3px;
      margin-right: 15px;
    }
    .logo-dolphin svg {
      width: 50px; height: auto;
    }
    .money {
      position: absolute;
      right: 20px;
      background: #222;
      padding: 8px 12px;
      border-radius: 5px;
      border: 1px solid #333;
      font-weight: bold;
      color: #ffcc00;
    }

    /* Sayfa i√ßi ana kapsayƒ±cƒ± (padding-top: header bo≈üluƒüu) */
    .container {
      width: 100%;
      max-width: 1200px;
      margin: 0 auto;
      padding-top: 100px; 
      /* Sol hizalƒ± g√∂r√ºn√ºm i√ßin eklemeler: */
      text-align: left;
      color: #fff; /* metin rengi beyaz / gri √ºst√ºnde okuyabilmek i√ßin */
      padding-left: 30px; 
      padding-right: 30px;
      padding-bottom: 50px;
    }

    /* Sol tarafta stat barlarƒ± */
    #statBars {
      position: fixed;
      top: 80px;
      left: 20px;
      width: 280px;
      z-index: 1000;
      text-align: left; /* Soldan hizalama */
    }
    .stat-bar {
      background: #555;
      margin-bottom: 1rem;
      padding: 5px;
      border-radius: 5px;
    }
    .stat-label {
      font-weight: bold; 
      color: #fff;
    }
    .stat-fill {
      height: 20px;
      background: #00bfff;
      width: 0%;
      border-radius: 3px;
      margin-top: 3px;
      transition: width 1s;
    }
    .stat-text {
      margin-top: 3px;
      font-size: 0.9rem;
      color: #fff;
    }
    .lockedStat {
      opacity: 0.5;
    }
    .rozet-info {
      background: #444;
      color: #fff;
      margin-top: 3px;
      padding: 4px;
      border-radius: 4px;
      font-size: 0.9rem;
    }

    /* Butonlar √úST: Durumum / Market / Kumar */
    .top-btn-group {
      margin-top: 1rem;
      display: flex;
      gap: 1rem;
    }
    .top-btn-group .btn {
      background: #333;
      color: #fff;
      border: none;
      border-radius: 5px;
      padding: 0.6rem 1rem;
      cursor: pointer;
      transition: background 0.3s;
    }
    .top-btn-group .btn:hover {
      background: #444;
    }
    .btn.locked {
      opacity: 0.5;
      cursor: default;
    }

    /* R√ºtbe Kartlarƒ± (sol hizalƒ±) */
    .rank-selection {
      display: flex;
      gap: 1rem;
      margin: 1rem 0;
      flex-wrap: wrap;
    }
    .card {
      background: #444;
      color: #fff;
      border-radius: 8px;
      padding: 1rem;
      width: 180px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.5);
      transition: transform 0.3s;
    }
    .card:hover {
      transform: translateY(-3px);
    }
    .card.locked {
      opacity: 0.5;
      pointer-events: none;
      position: relative;
    }
    .card.locked::after {
      content: "Kƒ∞Lƒ∞TLƒ∞";
      position: absolute;
      top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(0,0,0,0.8);
      padding: 0.5rem 1rem;
      border-radius: 5px;
      font-weight: bold;
      color: #ff4444;
    }
    .card button {
      background: #666;
      color: #fff;
      border: none;
      border-radius: 5px;
      padding: 0.5rem 0.8rem;
      margin-top: 0.5rem;
      cursor: pointer;
    }
    .card button:hover {
      background: #777;
    }

    /* G√∂rev Alanƒ± */
    .task-container {
      background: #444;
      border-radius: 8px;
      padding: 1rem;
      box-shadow: 0 2px 4px rgba(0,0,0,0.5);
      margin-bottom: 1rem;
      width: 100%;
      max-width: 600px;
      display: none; /* Kapalƒ± ba≈ülayacak */
      position: relative;
    }
    .task-container.active {
      display: block;
    }
    .task-container h3 {
      margin-bottom: 0.5rem;
      color: #ffcc00;
      font-size: 1.1rem;
    }
    .close-task {
      position: absolute;
      top: 10px; right: 10px;
      background: transparent;
      border: none;
      color: #fff;
      font-size: 1.2rem;
      cursor: pointer;
    }
    #taskOptions {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      margin: 0.5rem 0;
    }
    .task-option {
      background: #555;
      padding: 0.75rem;
      border-radius: 5px;
      cursor: default;
    }
    .task-option.active {
      background: #ff4444;
      color: #fff;
      cursor: pointer;
    }
    .task-option.completed {
      background: #00bfff;
      color: #000;
    }
    .task-option.locked {
      opacity: 0.6;
    }
    .progress-container {
      background: #333;
      border-radius: 5px;
      overflow: hidden;
      margin-top: 0.5rem;
    }
    .progress-bar {
      height: 20px;
      width: 0%;
      background: #00bfff;
      transition: width 1s;
    }
    .progress-text {
      margin-top: 0.5rem;
      font-weight: bold;
      color: #fff;
    }

    /* Market Modal */
    .modal-overlay {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.8);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 2000;
    }
    .modal-overlay.active {
      display: flex;
    }
    .modal {
      background: #333;
      color: #fff;
      border-radius: 8px;
      padding: 20px;
      width: 90%;
      max-width: 400px;
      position: relative;
    }
    .close-modal {
      position: absolute;
      top: 10px; right: 10px;
      background: transparent; border: none;
      font-size: 1.2rem; color: #fff; cursor: pointer;
    }
    .market-list {
      margin-top: 1rem; 
    }
    .market-item {
      background: #444;
      margin-bottom: 0.5rem;
      padding: 0.5rem;
      border-radius: 5px;
    }

    /* Kumar (Okey) Modal */
    #kumarModal .modal {
      text-align: left; /* Sol hizalƒ± */
    }
    .game-container {
      background: #222;
      margin-top: 1rem;
      padding: 1rem;
      border-radius: 5px;
    }
  </style>
</head>
<body>
  <!-- √úST Sƒ∞YAH HEADER -->
  <header>
    <div class="header-inner">
      <div class="logo-text">BLACK DOLPHINE</div>
      <div class="logo-dolphin">
        <svg viewBox="0 0 100 50">
          <path d="M10,30 Q20,10 40,20 T90,30 Q70,40 50,35 T10,30 Z"
                fill="#00cc66" stroke="#fff" stroke-width="2"/>
        </svg>
      </div>
      <div class="money">Dolar: <span id="money">500000</span></div>
    </div>
  </header>

  <!-- SOL TARAFTA STAT BARLAR (Vakur/Hatip/Baron) -->
  <div id="statBars">
    <div class="stat-bar" id="vakurStat">
      <div class="stat-label">Vakur üõ°Ô∏è</div>
      <div class="stat-fill" id="vakurFill"></div>
      <div class="stat-text" id="vakurText">Koruma: 0 (0%)</div>
      <div class="rozet-info" id="maviRozetInfo">Mavi Rozet: 0</div>
    </div>
    <div class="stat-bar lockedStat" id="hatipStat">
      <div class="stat-label">Hatip üë•</div>
      <div class="stat-fill" id="hatipFill"></div>
      <div class="stat-text" id="hatipText">N√ºfus: 0 (0%)</div>
      <div class="rozet-info" id="turuncuRozetInfo">Turuncu Rozet: 0</div>
    </div>
    <div class="stat-bar lockedStat" id="baronStat">
      <div class="stat-label">Baron ‚ôõ</div>
      <div class="stat-fill" id="baronFill"></div>
      <div class="stat-text" id="baronText">Etki: 0 (0%)</div>
      <div class="rozet-info" id="kirmiziRozetInfo">Kƒ±rmƒ±zƒ± Rozet: 0</div>
    </div>
  </div>

  <!-- ANA ƒ∞√áERƒ∞K KISMI -->
  <div class="container">
    <!-- √ústte buton grubu: Durumum, Market, Kumar -->
    <div class="top-btn-group">
      <button class="btn" onclick="toggleDurum()">Durumum</button>
      <button class="btn" id="marketBtn" onclick="openMarket()">Market</button>
      <button class="btn" onclick="openKumar()">Kumar</button>
    </div>

    <!-- (ƒ∞steƒüe baƒülƒ±) R√ºtbe Se√ßimi -->
    <div class="rank-selection">
      <div class="card" id="cardVakur">
        <h4>Vakur</h4>
        <p>Mavi Rozetli</p>
        <button onclick="selectRank('Vakur')">G√∂revleri G√∂r</button>
      </div>
      <div class="card locked" id="cardHatip">
        <h4>Hatip</h4>
        <p>Turuncu Rozetli</p>
        <button onclick="selectRank('Hatip')">G√∂revleri G√∂r</button>
      </div>
      <div class="card locked" id="cardBaron">
        <h4>Baron</h4>
        <p>Kƒ±rmƒ±zƒ± Rozetli</p>
        <button onclick="selectRank('Baron')">G√∂revleri G√∂r</button>
      </div>
    </div>

    <!-- G√∂rev Alanƒ± (a√ßƒ±lƒ±p kapanƒ±r) -->
    <div class="task-container" id="taskContainer">
      <button class="close-task" onclick="closeTaskContainer()">√ó</button>
      <h3 id="rankTitle"></h3>
      <div id="taskOptions"></div>
      <div class="progress-container">
        <div class="progress-bar" id="progressBar"></div>
      </div>
      <div class="progress-text" id="progressText">0%</div>
    </div>

  </div><!-- /container -->

  <!-- MARKET Modal -->
  <div class="modal-overlay" id="marketModal">
    <div class="modal">
      <button class="close-modal" onclick="closeMarket()">√ó</button>
      <h2>Market</h2>
      <p>(Sadece Baron olanlar eri≈üebilir.)</p>
      <div class="market-list">
        <div class="market-item">Silah - 5000$</div>
        <div class="market-item">Zƒ±rh - 8000$</div>
        <div class="market-item">Zƒ±rhlƒ± Ara√ß - 15000$</div>
        <div class="market-item">√áelik Yelek - 3000$</div>
        <div class="market-item">T√ºfek - 7000$</div>
        <div class="market-item">Bomba - 10000$</div>
      </div>
    </div>
  </div>

  <!-- KUMAR (Okey) Modal -->
  <div class="modal-overlay" id="kumarModal">
    <div class="modal">
      <button class="close-modal" onclick="closeKumar()">√ó</button>
      <h2>Kumar</h2>
      <div class="game-container">
        <p>≈ûu an sadece Okey. (ƒ∞leride Batak / Tavla / T√ºrk Pokeri de eklenecek.)</p>
      </div>
    </div>
  </div>

  <script>
    /***************************************************
     * √ñRNEK DEƒûƒ∞≈ûKENLER
     ***************************************************/
    let money = 500000;
    let vakurProgress = 0;
    let hatipProgress = 0;
    let baronProgress = 0;
    let rozetMavi = 0;
    let rozetTuruncu = 0;
    let rozetKirmizi = 0;

    let isHatipUnlocked = false;
    let isBaronUnlocked = false;
    let isBaron = false; // Market kilidi kontrol√º (Baron olan => true)

    /* G√∂rev sayacƒ± √∂rnekleri */
    let vakurTaskCount = 0;
    let hatipTaskCount = 0;
    let baronTaskCount = 0;

    window.addEventListener('load', () => {
      updateMoneyUI();
      updateStats();
      updateRozetUI();
      updateMarketBtn();
    });

    /***************************************************
     * 1) Stat G√ºncelleme
     ***************************************************/
    function updateStats() {
      // Vakur
      document.getElementById('vakurFill').style.width = vakurProgress + "%";
      document.getElementById('vakurText').textContent = "Koruma: " + vakurProgress + " (" + vakurProgress + "%)";
      // Hatip
      if(isHatipUnlocked) {
        document.getElementById('hatipStat').classList.remove('lockedStat');
      }
      document.getElementById('hatipFill').style.width = hatipProgress + "%";
      document.getElementById('hatipText').textContent = "N√ºfus: " + hatipProgress + " (" + hatipProgress + "%)";
      // Baron
      if(isBaronUnlocked) {
        document.getElementById('baronStat').classList.remove('lockedStat');
        isBaron = true; // √ñrnek: eƒüer kilidi a√ßtƒ±ysanƒ±z
        updateMarketBtn();
      }
      document.getElementById('baronFill').style.width = baronProgress + "%";
      document.getElementById('baronText').textContent = "Etki: " + baronProgress + " (" + baronProgress + "%)";
    }

    function updateRozetUI() {
      document.getElementById('maviRozetInfo').textContent = "Mavi Rozet: " + rozetMavi;
      document.getElementById('turuncuRozetInfo').textContent = "Turuncu Rozet: " + rozetTuruncu;
      document.getElementById('kirmiziRozetInfo').textContent = "Kƒ±rmƒ±zƒ± Rozet: " + rozetKirmizi;
    }

    function updateMoneyUI() {
      document.getElementById('money').textContent = money;
    }

    /***************************************************
     * 2) Durum Butonu (√ñrnek: a√ß/kapa stat bar yok - 
     *   isterseniz collapsible yaparsƒ±nƒ±z)
     ***************************************************/
    function toggleDurum() {
      alert("≈ûu an Durum bilgisi: \nVakut: " + vakurProgress + "%\nHatip: " + hatipProgress + "%\nBaron: " + baronProgress + "%");
    }

    /***************************************************
     * 3) Market (Baron kontrol√º)
     ***************************************************/
    function updateMarketBtn() {
      const btn = document.getElementById('marketBtn');
      if(!isBaron) {
        btn.classList.add('locked');
      } else {
        btn.classList.remove('locked');
      }
    }
    function openMarket() {
      if(!isBaron) {
        alert("Market kilitli, Baron deƒüilsiniz!");
        return;
      }
      document.getElementById('marketModal').classList.add('active');
    }
    function closeMarket() {
      document.getElementById('marketModal').classList.remove('active');
    }

    /***************************************************
     * 4) Kumar
     ***************************************************/
    function openKumar() {
      document.getElementById('kumarModal').classList.add('active');
    }
    function closeKumar() {
      document.getElementById('kumarModal').classList.remove('active');
    }

    /***************************************************
     * 5) R√ºtbe Kartlarƒ± ve G√∂rev Alanƒ±
     ***************************************************/
    let currentRank = "Vakur";
    function selectRank(rank) {
      if(rank === "Hatip" && !isHatipUnlocked) return;
      if(rank === "Baron" && !isBaronUnlocked) return;
      currentRank = rank;
      showNextTask();
      document.getElementById('taskContainer').classList.add('active');
    }
    function closeTaskContainer() {
      document.getElementById('taskContainer').classList.remove('active');
    }
    function showNextTask() {
      document.getElementById('taskOptions').innerHTML = "";
      let count, rankTitle;
      if(currentRank === "Vakur") {
        count = vakurTaskCount;
        rankTitle = "Vakur G√∂revleri";
      } else if(currentRank === "Hatip") {
        count = hatipTaskCount;
        rankTitle = "Hatip G√∂revleri";
      } else {
        count = baronTaskCount;
        rankTitle = "Baron G√∂revleri";
      }
      document.getElementById('rankTitle').textContent = rankTitle + " (√∂rnek)";

      // Basit 8 g√∂rev sim√ºlasyonu
      const totalTasks = 8;
      for(let i=0; i< totalTasks; i++){
        const div = document.createElement('div');
        div.classList.add('task-option');
        div.textContent = `G√∂rev ${i+1}`;
        if(i < count) {
          div.classList.add('completed');
        } else if(i === count) {
          div.classList.add('active');
          div.addEventListener('click', completeActiveTask);
        } else {
          div.classList.add('locked');
        }
        document.getElementById('taskOptions').appendChild(div);
      }

      const prog = (count / totalTasks) * 100;
      document.getElementById('progressBar').style.width = prog + "%";
      document.getElementById('progressText').textContent = Math.floor(prog) + "%";
    }
    function completeActiveTask() {
      if(currentRank === "Vakur") {
        vakurTaskCount++;
        // 8'in sonuna ula≈ütƒ±ysa Hatip kilidi a√ß
        if(vakurTaskCount >= 8 && !isHatipUnlocked) {
          isHatipUnlocked = true;
          document.getElementById('cardHatip').classList.remove('locked');
        }
        vakurProgress += 10; // √ñrnek
        rozetMavi++;
      } else if(currentRank === "Hatip") {
        hatipTaskCount++;
        if(hatipTaskCount >= 8 && !isBaronUnlocked) {
          isBaronUnlocked = true;
          document.getElementById('cardBaron').classList.remove('locked');
        }
        hatipProgress += 10;
        rozetTuruncu++;
      } else {
        baronTaskCount++;
        baronProgress += 10;
        rozetKirmizi++;
      }
      updateStats();
      updateRozetUI();
      showNextTask();
    }
  </script>
</body>
</html>
