<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>Mafia Oyunu - Basit Versiyon</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      background: #f4f4f4;
      color: #333;
    }
    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding-bottom: 10px;
      border-bottom: 2px solid #333;
    }
    h1 {
      font-size: 1.8rem;
    }
    section {
      margin-top: 20px;
      padding: 10px;
      background: #fff;
      border: 1px solid #ddd;
      border-radius: 5px;
    }
    section h2 {
      margin-bottom: 10px;
      font-size: 1.2rem;
      border-bottom: 1px solid #ddd;
      padding-bottom: 5px;
    }
    button {
      margin: 5px 0;
      padding: 7px 15px;
      font-size: 0.9rem;
      cursor: pointer;
    }
    input[type="text"] {
      padding: 5px;
      width: 80%;
      font-size: 0.9rem;
      margin-bottom: 5px;
    }
    #notifications {
      border: 1px solid #bbb;
      background: #eee;
      height: 100px;
      overflow-y: auto;
      padding: 5px;
    }
    #chatBox {
      border: 1px solid #333;
      background: #fff;
      height: 150px;
      overflow-y: auto;
      padding: 5px;
      margin-bottom: 5px;
    }
    .hidden {
      display: none;
    }
  </style>
</head>
<body>
  <header>
    <h1>Mafia Oyunu - Basit Versiyon</h1>
    <div id="moneyDisplay">Para: $500000</div>
  </header>

  <!-- Rozet Güçleri -->
  <section id="badgeSection">
    <h2>Rozet Güçleri</h2>
    <p>Vakur: <span id="vakurPower">60%</span></p>
    <p>Baron: <span id="baronPower">30%</span></p>
    <p>Hatip: <span id="hatipPower">10%</span></p>
  </section>

  <!-- Temel İşlemler: Suç İşle, Baron Ol -->
  <section id="actionSection">
    <h2>Temel İşlemler</h2>
    <button id="commitCrimeBtn">Suç İşle (Para +1000, Vakur -5)</button>
    <br>
    <button id="becomeBaronBtn">Baron Ol (Rolü değiştir)</button>
  </section>

  <!-- Baron İşlemleri: Gangster Daveti -->
  <section id="baronSection" class="hidden">
    <h2>Baron İşlemleri</h2>
    <button id="inviteGangsterBtn">Gangster Davet Et (-$2000)</button>
    <p>Toplam Aile (Kabul Edilen): <span id="acceptedGangsters">0</span></p>
  </section>

  <!-- Savaş Geri Sayım -->
  <section id="warSection">
    <h2>Savaşlar</h2>
    <button id="startWarBtn">Savaş Başlat</button>
    <p>Geri Sayım: <span id="warTimer">0</span> saniye</p>
  </section>

  <!-- Bildirimler -->
  <section id="notificationSection">
    <h2>Bildirimler</h2>
    <div id="notifications"></div>
  </section>

  <!-- Kullanıcı Arama -->
  <section id="userSearchSection">
    <h2>Kullanıcı Arama</h2>
    <input type="text" id="userSearch" placeholder="Kullanıcı Ara">
    <div id="userResults"></div>
  </section>

  <!-- Kullanıcı Profili -->
  <section id="userProfileSection">
    <h2>Kullanıcı Profili</h2>
    <p>Nickname: <span id="userNickname">Player1</span></p>
    <p>Profil: <span id="userProfile">Vakur</span></p>
    <p>Cinsiyet: <span id="userGender">Erkek</span></p>
    <p>Servet: <span id="userWealth">$500000</span></p>
  </section>

  <!-- Chat Alanı -->
  <section id="chatSection">
    <h2>Chat</h2>
    <div id="chatBox"></div>
    <input type="text" id="chatInput" placeholder="Mesaj yazın">
    <button id="sendChatBtn">Gönder</button>
  </section>

  <script>
    // Başlangıç Değerleri
    let money = 500000;
    let vakurPower = 60; // yüzdelik
    let baronPower = 30;
    let hatipPower = 10;
    let isBaron = false;
    let acceptedGangsters = 0;
    let warCountdown = 0;
    let warInterval = null;

    // Ekran güncelleme fonksiyonu
    function updateDisplays() {
      document.getElementById('moneyDisplay').innerText = "Para: $" + money;
      document.getElementById('vakurPower').innerText = vakurPower + "%";
      document.getElementById('baronPower').innerText = baronPower + "%";
      document.getElementById('hatipPower').innerText = hatipPower + "%";
      document.getElementById('acceptedGangsters').innerText = acceptedGangsters;
      document.getElementById('userWealth').innerText = "$" + money;
    }

    // Bildirim ekleme fonksiyonu
    function addNotification(message) {
      const notifDiv = document.getElementById('notifications');
      const p = document.createElement('p');
      p.innerText = message;
      notifDiv.appendChild(p);
      notifDiv.scrollTop = notifDiv.scrollHeight;
    }

    // Suç İşle butonu: Para artışı, vakur gücü azalması
    document.getElementById('commitCrimeBtn').addEventListener('click', function() {
      money += 1000;
      vakurPower = Math.max(0, vakurPower - 5);
      addNotification("Suç işlendi: +$1000, Vakur gücü -5.");
      updateDisplays();
    });

    // Baron Ol butonu: Role geçiş ve baron bölümünün açılması
    document.getElementById('becomeBaronBtn').addEventListener('click', function() {
      if (!isBaron) {
        isBaron = true;
        addNotification("Artık Baron oldunuz!");
        document.getElementById('baronSection').classList.remove("hidden");
        // Kullanıcı profilinde rol de değişsin:
        document.getElementById('userProfile').innerText = "Baron";
      }
    });

    // Gangster Daveti butonu: Her davet 2000 dolar kaybettirir
    document.getElementById('inviteGangsterBtn').addEventListener('click', function() {
      if (money >= 2000) {
        money -= 2000;
        acceptedGangsters++;
        addNotification("Bir gangster davet edildi. (-$2000)");
        updateDisplays();
      } else {
        alert("Yetersiz bakiye!");
      }
    });

    // Savaş Başlat butonu: Örnek amaçlı 10 saniyelik geri sayım
    document.getElementById('startWarBtn').addEventListener('click', function() {
      if (warInterval) return;
      warCountdown = 10;
      updateWarTimerDisplay();
      addNotification("Savaş geri sayımı başladı.");
      warInterval = setInterval(function() {
        warCountdown--;
        updateWarTimerDisplay();
        if (warCountdown <= 0) {
          clearInterval(warInterval);
          warInterval = null;
          addNotification("Savaş başladı!");
        }
      }, 1000);
    });

    function updateWarTimerDisplay() {
      document.getElementById('warTimer').innerText = warCountdown;
    }

    // Kullanıcı Arama: Basit örnek, "player1" aranırsa sonuç çıkar
    document.getElementById('userSearch').addEventListener('input', function() {
      const query = this.value.trim().toLowerCase();
      const resultsDiv = document.getElementById('userResults');
      resultsDiv.innerHTML = "";
      if (query !== "") {
        if ("player1".includes(query)) {
          resultsDiv.innerHTML = "<p>Player1 - Profil: Vakur, Cinsiyet: Erkek, Servet: $500000</p>";
        } else {
          resultsDiv.innerHTML = "<p>Sonuç bulunamadı.</p>";
        }
      }
    });

    // Chat İşlevselliği: Gönderilen mesaj chat kutusunda görüntülensin
    document.getElementById('sendChatBtn').addEventListener('click', function() {
      const input = document.getElementById('chatInput');
      const message = input.value.trim();
      if (message !== "") {
        const chatBox = document.getElementById('chatBox');
        const p = document.createElement('p');
        p.innerText = "Siz: " + message;
        chatBox.appendChild(p);
        input.value = "";
        chatBox.scrollTop = chatBox.scrollHeight;
      }
    });

    // Ekran güncellemesini başlat
    updateDisplays();
  </script>
</body>
</html>
