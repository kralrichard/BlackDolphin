<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>Oyun SeÃ§imi</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    /* Genel sÄ±fÄ±rlama */
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Poppins', sans-serif;
      background: #121212;
      color: #f1f1f1;
      overflow-x: hidden;
    }
    /* Ana MenÃ¼ */
    #mainMenu {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      gap: 20px;
      background: linear-gradient(135deg, #1a237e, #0d47a1);
    }
    #mainMenu h1 { font-size: 2.5rem; }
    #mainMenu button {
      padding: 15px 30px;
      font-size: 1.2rem;
      border: none;
      border-radius: 8px;
      background: #ff4444;
      color: #fff;
      cursor: pointer;
      transition: background 0.3s;
    }
    #mainMenu button:hover { background: #cc0000; }

    /* Her iki oyunun containerâ€™larÄ± â€“ baÅŸlangÄ±Ã§ta gizli */
    .game-container { display: none; }
    
    /* Mafia Oyunu Stilleri */
    #mafiaGameContainer {
      position: relative;
      padding-top: 120px; /* Ãœst stat barlarÄ± alanÄ± iÃ§in */
    }
    /* Stat barlarÄ± (sol Ã¼st) */
    #statBars {
      position: fixed;
      top: 20px;
      left: 20px;
      width: 280px;
      z-index: 1000;
    }
    .stat-bar {
      margin-bottom: 1rem;
      background: #444;
      border-radius: 5px;
      overflow: hidden;
      padding: 5px;
    }
    .stat-label { margin-bottom: 3px; font-weight: bold; font-size: 0.9rem; }
    .stat-fill {
      height: 20px;
      background: #00bfff;
      width: 0%;
      transition: width 1s ease;
    }
    .stat-text { margin-top: 3px; font-size: 0.9rem; }
    .lockedStat { opacity: 0.4; }
    #profileInfo { margin-top: 1rem; font-size: 0.9rem; font-weight: bold; }
    /* Village Travel Panel (saÄŸ orta) */
    #villageTravel {
      position: fixed;
      right: 20px;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(0,0,0,0.7);
      padding: 1rem;
      border-radius: 10px;
      width: 200px;
      z-index: 1000;
    }
    #villageTravel h3 { margin-bottom: 1rem; text-align: center; }
    #villageTravel ul { list-style: none; }
    #villageTravel li { display: flex; justify-content: space-between; margin-bottom: 0.5rem; }
    #villageTravel button {
      padding: 5px 10px;
      font-size: 0.8rem;
      cursor: pointer;
      border: none;
      border-radius: 5px;
      background: #ff4444;
      color: #fff;
      transition: background 0.3s;
    }
    #villageTravel button:hover { background: #cc0000; }
    /* Mafia Oyun Ana MenÃ¼sÃ¼ (rÃ¼tbe kartlarÄ± ve gÃ¶rev alanÄ±) */
    #mafiaMenu {
      text-align: center;
      padding: 20px;
    }
    .rank-selection {
      display: flex;
      gap: 20px;
      justify-content: center;
      margin-bottom: 20px;
      flex-wrap: wrap;
    }
    .card {
      background: rgba(255,255,255,0.05);
      border: 1px solid rgba(255,255,255,0.1);
      border-radius: 10px;
      padding: 20px;
      width: 250px;
      transition: transform 0.3s;
      cursor: pointer;
    }
    .card:hover { transform: translateY(-5px); }
    .card h2 { margin-bottom: 10px; color: #ffcc00; }
    .locked { opacity: 0.4; pointer-events: none; position: relative; }
    .locked::after {
      content: "KÄ°LÄ°TLÄ°";
      position: absolute;
      top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(0,0,0,0.8);
      padding: 5px 10px;
      border-radius: 5px;
      font-weight: bold;
      color: #ff4444;
    }
    /* GÃ¶rev AlanÄ± */
    .task-container {
      background: rgba(255,255,255,0.07);
      padding: 20px;
      margin: 20px auto;
      max-width: 600px;
      border-radius: 10px;
      position: relative;
    }
    .task-container h3 { color: #ffcc00; margin-bottom: 10px; }
    .close-task {
      position: absolute;
      top: 5px; right: 5px;
      background: transparent;
      border: none;
      color: #fff;
      font-size: 1.2rem;
      cursor: pointer;
    }
    #taskOptions { display: flex; flex-direction: column; gap: 5px; margin-bottom: 10px; }
    .task-option {
      padding: 10px;
      border: 1px solid #555;
      border-radius: 5px;
      background: rgba(255,255,255,0.05);
      cursor: default;
      text-align: left;
    }
    .task-option.active { background: #ff4444; cursor: pointer; }
    .task-option.completed { background: #00bfff; color: #000; }
    .task-option.locked { background: #555; opacity: 0.6; }
    .progress-container {
      width: 100%;
      background: #444;
      border-radius: 5px;
      overflow: hidden;
      margin-top: 5px;
    }
    .progress-bar { height: 20px; width: 0%; background: #00bfff; transition: width 1s ease; }
    .progress-text { margin-top: 5px; font-weight: bold; }
    /* SABÄ°T BUTON GRUBU (Ã–rneÄŸin Rozetler, Market vb.) */
    .fixed-btn-group {
      position: fixed;
      bottom: 20px;
      right: 20px;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    .fixed-btn-group .btn { min-width: 130px; }
    
    /* 101 Okey Oyunu Stilleri */
    #okeyGameContainer {
      display: none; /* BaÅŸlangÄ±Ã§ta gizli */
      padding: 20px;
    }
    /* Okey oyununa ait diÄŸer CSS kodlarÄ±nÄ± buraya kopyalayabilirsiniz.
       AÅŸaÄŸÄ±da temel Ã¶rnek verilmiÅŸtir. */
    #gameCanvas {
      border: 3px solid #1a472a;
      background-color: #388e3c;
      border-radius: 10px;
      box-shadow: inset 0 0 10px rgba(0,0,0,0.8);
      display: block;
      margin: 20px auto;
    }
    #status {
      font-size: 20px;
      color: #e0e0e0;
      margin-bottom: 15px;
      text-shadow: 1px 1px 3px rgba(0,0,0,0.5);
      font-weight: 500;
      padding: 10px 20px;
      background-color: rgba(0,0,0,0.2);
      border-radius: 30px;
      display: inline-block;
    }
    #controls {
      margin-top: 15px;
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 10px;
    }
    #controls button {
      padding: 12px 24px;
      font-size: 16px;
      border: none;
      border-radius: 8px;
      background-color: #0288d1;
      color: white;
      cursor: pointer;
      transition: all 0.2s ease;
      font-weight: 500;
      box-shadow: 0 4px 6px rgba(0,0,0,0.5);
      min-width: 120px;
    }
    #controls button:hover {
      background-color: #0277bd;
      transform: translateY(-3px);
      box-shadow: 0 6px 10px rgba(0,0,0,0.5);
    }
    /* Okey iÃ§in diÄŸer stiller ... */
  </style>
</head>
<body>
  <!-- ANA MENÃœ -->
  <div id="mainMenu">
    <h1>Oyun SeÃ§imi</h1>
    <button onclick="showGame('mafia')">Mafia Oyunu</button>
    <button onclick="showGame('okey')">101 Okey</button>
  </div>

  <!-- MAFIA OYUNU -->
  <div id="mafiaGameContainer" class="game-container">
    <!-- Stat BarlarÄ±, Village Travel, MenÃ¼ ve GÃ¶rev AlanÄ± (Mafia oyunu) -->
    <!-- (YukarÄ±daki Mafia oyunu kodlarÄ±nÄ±n tamamÄ± buraya eklenmiÅŸtir.) -->
    
    <!-- Stat BarlarÄ± ve Profil -->
    <div id="statBars">
      <div class="stat-bar" id="vakurStat">
        <div class="stat-label">Vakur ğŸ›¡ï¸</div>
        <div class="stat-fill" id="vakurFill"></div>
        <div class="stat-text" id="vakurText">Koruma: 0 (0%)</div>
      </div>
      <div class="stat-bar lockedStat" id="hatipStat">
        <div class="stat-label">Hatip ğŸ‘¥</div>
        <div class="stat-fill" id="hatipFill"></div>
        <div class="stat-text" id="hatipText">NÃ¼fus: 0 (0%)</div>
      </div>
      <div class="stat-bar lockedStat" id="baronStat">
        <div class="stat-label">Baron â™›</div>
        <div class="stat-fill" id="baronFill"></div>
        <div class="stat-text" id="baronText">Etki: 0 (0%)</div>
      </div>
      <div id="profileInfo">KÃ¶y: <span id="currentVillageDisplay">Asman</span></div>
    </div>

    <!-- Village Travel Panel -->
    <div id="villageTravel">
      <h3>KÃ¶yler</h3>
      <ul>
        <li><span>Asman</span><button onclick="travelTo('Asman')">Seyahat Et</button></li>
        <li><span>Mizrin</span><button onclick="travelTo('Mizrin')">Seyahat Et</button></li>
        <li><span>Qeruk</span><button onclick="travelTo('Qeruk')">Seyahat Et</button></li>
        <li><span>Shuman</span><button onclick="travelTo('Shuman')">Seyahat Et</button></li>
        <li><span>Alizera</span><button onclick="travelTo('Alizera')">Seyahat Et</button></li>
        <li><span>Bubuk</span><button onclick="travelTo('Bubuk')">Seyahat Et</button></li>
      </ul>
    </div>

    <!-- RÃ¼tbe KartlarÄ± -->
    <div id="mafiaMenu">
      <div class="rank-selection">
        <div class="card" id="cardVakur">
          <h2>Vakur</h2>
          <p>Mavi ğŸ…</p>
          <button class="btn" onclick="selectRank('Vakur')">SeÃ§</button>
        </div>
        <div class="card locked" id="cardHatip">
          <h2>Hatip</h2>
          <p>Turuncu ğŸ…</p>
          <button class="btn" onclick="selectRank('Hatip')">SeÃ§</button>
        </div>
        <div class="card locked" id="cardBaron">
          <h2>Baron</h2>
          <p>KÄ±rmÄ±zÄ± ğŸ…</p>
          <button class="btn" onclick="selectRank('Baron')">SeÃ§</button>
        </div>
      </div>
      <!-- GÃ¶rev AlanÄ± -->
      <div class="task-container" id="taskContainer">
        <button class="close-task" onclick="closeTaskContainer()">X</button>
        <h3 id="rankTitle"></h3>
        <div id="taskOptions"></div>
        <div class="progress-container">
          <div class="progress-bar" id="progressBar"></div>
        </div>
        <div class="progress-text" id="progressText">0%</div>
      </div>
      <br>
      <button class="btn" onclick="showMainMenu()">Ana MenÃ¼ye DÃ¶n</button>
    </div>

    <!-- Mafia oyununa ait JavaScript kodlarÄ± (AÅŸaÄŸÄ±daki script kÄ±smÄ±, daha Ã¶nce gÃ¶nderilen Mafia oyunu kod Ã¶rneÄŸinden uyarlanmÄ±ÅŸtÄ±r) -->
    <script>
      /* MAFA OYUNU Ä°Ã‡Ä°N KODLAR */
      // Ä°lgili gÃ¶rev dizileri, stat gÃ¼ncellemeleri, kÃ¶y seyahati vs. kodlarÄ±nÄ± buraya ekleyin.
      // AÅŸaÄŸÄ±da Ã¶rnek olarak daha Ã¶nce gÃ¶nderilen Mafia oyunu kodlarÄ±nÄ±n temel kÄ±smÄ± bulunmaktadÄ±r.
      
      const tierOrder = ["basit", "orta", "zor", "ileri", "son"];
      const tasks = {
        vakur: {
          basit: [
            "Bir Ã§ocuÄŸun okul Ã§antasÄ± almasÄ±na yardÄ±mcÄ± ol.",
            "Mahalledeki yaÅŸlÄ± bir komÅŸunun alÄ±ÅŸveriÅŸ poÅŸetlerini taÅŸÄ±.",
            "Sokaktaki sahipsiz bir kÃ¶pek iÃ§in su ve mama koy.",
            "ArkadaÅŸÄ±na ufak bir hediye vererek moralini yÃ¼kselt.",
            "Ä°ÅŸsiz bir tanÄ±dÄ±ÄŸÄ±na CV hazÄ±rlama konusunda destek ol.",
            "KÃ¼tÃ¼phanede eski kitaplarÄ± dÃ¼zenlemeye gÃ¶nÃ¼llÃ¼ ol.",
            "Bir hayÄ±r kurumuna ufak bir baÄŸÄ±ÅŸ yap veya yardÄ±m topla.",
            "OtobÃ¼ste yaÅŸlÄ± veya hamile birine yer ver."
          ],
          orta: [
            "Aile iÃ§inde tartÄ±ÅŸan iki akrabayÄ± barÄ±ÅŸtÄ±r.",
            "Mahallede yardÄ±m kermesi veya etkinlik organize et.",
            "Maddi durumu kÃ¶tÃ¼ bir Ã¶ÄŸrenciye burs/kitap yardÄ±mÄ± ayarla.",
            "Bir STKâ€™nÄ±n etkinliÄŸinde aktif rol al.",
            "BakÄ±msÄ±z parkÄ± onarmak iÃ§in gÃ¶nÃ¼llÃ¼ler topla.",
            "Kan baÄŸÄ±ÅŸÄ± kampanyasÄ±na katkÄ±da bulun.",
            "Bir arkadaÅŸÄ±n iÃ§in profesyonel yardÄ±m aracÄ±lÄ±ÄŸÄ± yap.",
            "ZorbalÄ±ÄŸa uÄŸrayan birine Ã§evrimiÃ§i destek bul."
          ],
          zor: [
            "Afet bÃ¶lgesine yardÄ±m ekibi olarak katÄ±l.",
            "Kronik sorunu iÃ§in belediyeyle gÃ¶rÃ¼ÅŸÃ¼p Ã§Ã¶zÃ¼m talep et.",
            "Zor durumdaki aileye iÅŸ veya barÄ±nma imkÃ¢nÄ± saÄŸla.",
            "Hayvan barÄ±naÄŸÄ±nda kapsamlÄ± bakÄ±m ve temizlik yap.",
            "KÃ¼s olan iki arkadaÅŸÄ±n barÄ±ÅŸmasÄ±na aracÄ±lÄ±k et.",
            "Toplum dÄ±ÅŸlanmÄ±ÅŸ birini etkinliklere dahil et.",
            "KÃ¼Ã§Ã¼k Ã§aplÄ± baÄŸÄ±ÅŸ kampanyasÄ± dÃ¼zenle.",
            "Yerel hastanede gÃ¶nÃ¼llÃ¼ refakat programÄ±na katÄ±l."
          ],
          ileri: [
            "BÃ¼yÃ¼k Ã¶lÃ§ekli yardÄ±m projesine liderlik et.",
            "GenÃ§lere yÃ¶nelik mentorluk programÄ± baÅŸlat.",
            "Meslek edindirme kursu organize et.",
            "Toplumsal soruna belediye-STK ortaklÄ±ÄŸÄ±yla Ã§Ã¶zÃ¼m Ã¼ret.",
            "GÃ¶nÃ¼llÃ¼ ekibi kurarak yaÅŸlÄ± bakÄ±mevlerini ziyaret et.",
            "Okullarda 'empati ve yardÄ±mseverlik' semineri dÃ¼zenle.",
            "Sosyal medya kampanyasÄ±yla yardÄ±m toplama etkinliÄŸi dÃ¼zenle.",
            "Ãœcretsiz terapi/rehberlik gÃ¼nÃ¼ organize et."
          ],
          son: [
            "Ulusal Ã§apta sosyal sorumluluk projesi yÃ¼rÃ¼t.",
            "BÃ¼yÃ¼k baÄŸÄ±ÅŸ konseri/festival dÃ¼zenle.",
            "GÃ¶nÃ¼llÃ¼leri bir araya getiren platform kur.",
            "EÄŸitim bursu fonu baÅŸlat.",
            "Aile iÃ§i ÅŸiddete koruma ve rehabilitasyon hizmeti oluÅŸtur.",
            "YardÄ±m vakfÄ± kurarak sÃ¼rekli yardÄ±m yÃ¼rÃ¼t.",
            "UluslararasÄ± STKâ€™lerle iÅŸ birliÄŸi yaparak yurt dÄ±ÅŸÄ±na yardÄ±m taÅŸÄ±.",
            "Tebrikler, hatip oldunuz! Ana menÃ¼ye dÃ¶nÃ¼yorsunuz."
          ]
        },
        hatip: {
          basit: [
            "Sokak kavgasÄ±nÄ± tatlÄ± dille sakinleÅŸtir.",
            "ArkadaÅŸlar arasÄ±ndaki tartÄ±ÅŸmayÄ± yapÄ±cÄ± sÃ¶zlerle Ã§Ã¶z.",
            "Aile iÃ§i gerginliÄŸi dinleyerek gider.",
            "Sosyal medyada tartÄ±ÅŸmayÄ± tatlÄ±ya baÄŸla.",
            "YanlÄ±ÅŸ bilgiyi doÄŸru kaynakla dÃ¼zelt.",
            "Dedikoduyu kaynaÄŸÄ±ndan Ã§Ã¼rÃ¼terek sakinleÅŸtir.",
            "Okul/kulÃ¼p etkinliÄŸinde kÄ±sa konuÅŸma yap.",
            "Ufak grupta hitabet pratiÄŸi yap."
          ],
          orta: [
            "KomÅŸular arasÄ±ndaki sorunu toplantÄ± ile Ã§Ã¶z.",
            "Ä°ÅŸ yerindeki iletiÅŸim kopukluÄŸunu arabuluculuk yaparak gider.",
            "Yerel hayÄ±r kurumuna baÄŸÄ±ÅŸ toplamak iÃ§in ikna et.",
            "KÃ¼Ã§Ã¼k Ã¶ÄŸrenci grubuna hitabet eÄŸitimi dÃ¼zenle.",
            "Aile ÅŸirketinde tartÄ±ÅŸmada hakemlik yap.",
            "Sivil toplum giriÅŸiminde gÃ¶nÃ¼llÃ¼ konuÅŸmacÄ± ol.",
            "Mahalle muhtarÄ±yla imza kampanyasÄ± baÅŸlat.",
            "GÃ¶nÃ¼llÃ¼ ekiple sokak sanatÃ§Ä±larÄ±na destek saÄŸla."
          ],
          zor: [
            "Ä°ki rakip grubu bir araya getirip barÄ±ÅŸ gÃ¶rÃ¼ÅŸmesi yap.",
            "Ulusal platformda toplumsal bir konuda konuÅŸ.",
            "BÃ¼yÃ¼k iÅŸ anlaÅŸmazlÄ±ÄŸÄ±nda arabulucu rol Ã¼stlen.",
            "Mahalle halkÄ±nÄ±n taleplerini dile getirip sonuÃ§ al.",
            "Ãœniversite protestosunu uzlaÅŸma yoluyla sonlandÄ±r.",
            "Esnaf arasÄ±ndaki fiyat anlaÅŸmazlÄ±ÄŸÄ±nÄ± uzlaÅŸtÄ±r.",
            "Binlerce kiÅŸilik tartÄ±ÅŸmayÄ± sakinleÅŸtir.",
            "Sivil toplum zirvesinde temsilci olarak konuÅŸ."
          ],
          ileri: [
            "BÃ¶lgesel toplum hareketine Ã¶nderlik et.",
            "Ulusal konferansta Ã§Ã¶zÃ¼m Ã¶nerileri sun.",
            "Yerel siyasetÃ§iler ve STKâ€™ler arasÄ±nda diyaloÄŸu gÃ¼Ã§lendir.",
            "BarÄ±ÅŸ Ã§alÄ±ÅŸtayÄ±nda moderatÃ¶rlÃ¼k yap.",
            "Kurumsal ÅŸirkette Ã¼st dÃ¼zey mÃ¼zakerelerde bulun.",
            "Mahalle gerginliÄŸini uzlaÅŸÄ± belgesiyle sonlandÄ±r.",
            "Åehrin Ã¶nde gelenleriyle bÃ¼yÃ¼k kampanya dÃ¼zenle.",
            "Ãœniversitede 'BarÄ±ÅŸÃ§Ä±l Ä°letiÅŸim ve Diplomasi' dersi ver."
          ],
          son: [
            "UluslararasÄ± konferansta Ã¼lkeni temsil et.",
            "FarklÄ± Ã¼lkelerden liderleri bir araya getir.",
            "BarÄ±ÅŸÃ§Ä±l Ã§Ã¶zÃ¼mlerle Ã¶dÃ¼l al.",
            "BÃ¼yÃ¼k kampanyayla yasa deÄŸiÅŸikliÄŸini saÄŸla.",
            "Diplomatik krizde aracÄ± rol Ã¼stlen.",
            "â€˜BarÄ±ÅŸ ve UzlaÅŸma VakfÄ±â€™ kurarak projeler yÃ¶net.",
            "Ã–nemli Ã§atÄ±ÅŸma bÃ¶lgelerine arabulucu olarak davet al.",
            "Tebrikler, baron oldunuz! Ana menÃ¼ye dÃ¶nÃ¼yorsunuz."
          ]
        },
        baron: {
          basit: [
            "Ufak Ã§apta uyuÅŸturucu satmayÄ± dene.",
            "Mahallede kÃ¼Ã§Ã¼k 'koruma Ã¼creti' topla.",
            "Kafe/mekÃ¢ndan ufak haraÃ§ iste.",
            "Sokak satÄ±cÄ±larÄ± arasÄ±nda rekabeti lehine Ã§evir.",
            "Sahte marka Ã¼rÃ¼nlerin satÄ±ÅŸ aÄŸÄ±nÄ± oluÅŸtur.",
            "Åantaj veya tehditle rakibi sustur.",
            "Ufak Ã§etenin desteÄŸiyle 'gÃ¼venlik' saÄŸlandÄ±ÄŸÄ±nÄ± iddia et.",
            "KaÃ§ak iÃ§ki satÄ±ÅŸÄ± yapan ekibe arka Ã§Ä±k."
          ],
          orta: [
            "Esnaftan dÃ¼zenli 'koruma parasÄ±' toplamaya baÅŸla.",
            "Polis/memurlarla rÃ¼ÅŸvet baÄŸlantÄ±sÄ± kur.",
            "YasadÄ±ÅŸÄ± kumar organizasyonu baÅŸlat.",
            "Rakip Ã§eteyle gerginliÄŸi lehine Ã§Ã¶z.",
            "Silah veya uyuÅŸturucu sevkiyatÄ±na lojistik destek ver.",
            "Yasa dÄ±ÅŸÄ± bahis mekanlarÄ±yla anlaÅŸ.",
            "Kara para aklama iÃ§in kÃ¼Ã§Ã¼k sermaye oluÅŸtur.",
            "Gece kulÃ¼bÃ¼nÃ¼n 'gizli ortak' statÃ¼sÃ¼nÃ¼ al."
          ],
          zor: [
            "Orta Ã¶lÃ§ekli uyuÅŸturucu aÄŸÄ±nda distribÃ¼tÃ¶rlÃ¼ÄŸÃ¼ ele al.",
            "Rakip baronun iÅŸ anlaÅŸmasÄ±na sÄ±zÄ±p bilgileri Ã§al.",
            "Polis ve siyasi baÄŸlantÄ±larÄ± gÃ¼Ã§lendir.",
            "BÃ¼yÃ¼k kazanÃ§ saÄŸlayacak silah sevkiyatÄ± organize et.",
            "Gece kulÃ¼pleri ve barlarda yatÄ±rÄ±mÄ±n tekeli olsun.",
            "Rakip Ã§etenin liderini korkutarak saflarÄ±na katÄ±l.",
            "Beyaz yakalÄ± iÅŸ Ã§evresinde kara para aklamayÄ± geniÅŸlet.",
            "Orta dÃ¼zey siyasetÃ§ilere fon saÄŸlayarak nÃ¼fuzunu arttÄ±r."
          ],
          ileri: [
            "UluslararasÄ± uyuÅŸturucu hattÄ±na doÄŸrudan giriÅŸ yap.",
            "Ãœst dÃ¼zey bÃ¼rokratlarla gizli anlaÅŸmalar yap, dokunulmazlÄ±k saÄŸla.",
            "Rakip baronlarla barÄ±ÅŸ konferansÄ± dÃ¼zenleyip ittifak kur.",
            "Yurt dÄ±ÅŸÄ± kara para aklama ofisleri aÃ§.",
            "GÃ¼venlik birimlerinde kilit isimleri satÄ±n al.",
            "Åehrin en bÃ¼yÃ¼k limanlarÄ±nda kontrol saÄŸla.",
            "GÃ¶steriÅŸli hayÄ±r iÅŸleriyle meÅŸrulaÅŸ.",
            "Casino, otel, gece kulÃ¼bÃ¼ zinciri kurarak yasadÄ±ÅŸÄ± gelirleri yasal iÅŸletmeye dÃ¶nÃ¼ÅŸtÃ¼r."
          ],
          son: [
            "BÃ¼yÃ¼k kumarhane zinciri ve malikÃ¢ne sahibi ol.",
            "UluslararasÄ± mafya aÄŸÄ±nÄ±n Ã¼lke temsilcisini Ã¼stlen.",
            "Siyasete dolaylÄ± girip seÃ§im kampanyalarÄ±nÄ± fonla.",
            "YeraltÄ± dÃ¼nyasÄ±nda 'Baronlar Konseyi' kur.",
            "Devletin kritik kurumlarÄ±na adam yerleÅŸtir.",
            "LÃ¼ks yaÅŸam sÃ¼rerken yurt dÄ±ÅŸÄ± yatÄ±rÄ±mlarÄ± yÃ¶net.",
            "Rakip baronlara karÅŸÄ± koordineli operasyon yap.",
            "Tebrikler, baron oldunuz! Ana menÃ¼ye dÃ¶nÃ¼yorsunuz."
          ]
        }
      };
      
      /* ------------------------
         2. GLOBAL DEÄÄ°ÅKENLER ve RÃ¼tbe Kilit DurumlarÄ±
      ------------------------ */
      let currentRank = "Vakur";  // BaÅŸlangÄ±Ã§ta yalnÄ±zca Vakur aktif
      let vakurTaskCount = 0, hatipTaskCount = 0, baronTaskCount = 0;
      let isHatipUnlocked = false, isBaronUnlocked = false;
      let blueBadgeCount = 0, orangeBadgeCount = 0, redBadgeCount = 0;
      let money = 500000;
      let onur = 0;
      
      // Stat hesaplarÄ±
      function getVakurKoruma() {
        let koruma = Math.floor(vakurTaskCount / 22);
        return (koruma % 661 === 0 && koruma > 0) ? 660 : koruma % 661;
      }
      function getHatipNufus() {
        let nufus = Math.floor(hatipTaskCount / 40) * 5;
        return (nufus % 201 === 0 && nufus > 0) ? 200 : nufus % 201;
      }
      function getBaronEtki() {
        let etki = Math.floor(baronTaskCount * 2);
        return (etki % 501 === 0 && etki > 0) ? 500 : etki % 501;
      }
      
      // GÃ¶rev listesi ve seviye mesajlarÄ±
      function showNextTask() {
        const taskOptionsContainer = document.getElementById('taskOptions');
        taskOptionsContainer.innerHTML = "";
        let taskCount, tierIndex, activeIndex, currentTier, taskList;
        
        if (currentRank === "Vakur") {
          taskCount = vakurTaskCount;
          tierIndex = Math.floor(taskCount / 8);
          activeIndex = taskCount % 8;
          currentTier = tierOrder[tierIndex % tierOrder.length];
          taskList = tasks.vakur[currentTier];
          document.getElementById('rankTitle').innerText = "Vakur GÃ¶revleri (" + currentTier + ")";
        } else if (currentRank === "Hatip") {
          taskCount = hatipTaskCount;
          tierIndex = Math.floor(taskCount / 8);
          activeIndex = taskCount % 8;
          currentTier = tierOrder[tierIndex % tierOrder.length];
          taskList = tasks.hatip[currentTier];
          document.getElementById('rankTitle').innerText = "Hatip GÃ¶revleri (" + currentTier + ")";
        } else if (currentRank === "Baron") {
          taskCount = baronTaskCount;
          tierIndex = Math.floor(taskCount / 8);
          activeIndex = taskCount % 8;
          currentTier = tierOrder[tierIndex % tierOrder.length];
          taskList = tasks.baron[currentTier];
          document.getElementById('rankTitle').innerText = "Baron GÃ¶revleri (" + currentTier + ")";
        }
        
        if (activeIndex === 0 && taskCount > 0) {
          if (currentTier === "basit") {
            alert("Tebrikler, basit gÃ¶revleri bitti. Orta gÃ¶revlere geÃ§tiniz.");
          } else if (currentTier === "orta") {
            alert("Tebrikler, orta gÃ¶revleri bitti. Zor gÃ¶revlere geÃ§tiniz.");
          } else if (currentTier === "zor") {
            alert("Tebrikler, zor gÃ¶revleri bitti. Ä°leri gÃ¶revlere geÃ§tiniz.");
          } else if (currentTier === "ileri") {
            alert("Tebrikler, ileri gÃ¶revleri bitti. Son gÃ¶revlere geÃ§tiniz.");
          } else if (currentTier === "son") {
            if (currentRank === "Vakur") {
              alert("Tebrikler, hatip oldunuz! Ana menÃ¼ye dÃ¶nÃ¼yorsunuz.");
              isHatipUnlocked = true;
              document.getElementById('cardHatip').classList.remove('locked');
            } else if (currentRank === "Hatip") {
              alert("Tebrikler, baron oldunuz! Ana menÃ¼ye dÃ¶nÃ¼yorsunuz.");
              isBaronUnlocked = true;
              document.getElementById('cardBaron').classList.remove('locked');
            }
            closeTaskContainer();
            return;
          }
        }
        
        taskList.forEach((task, index) => {
          const div = document.createElement('div');
          div.classList.add('task-option');
          div.innerText = task;
          if (index < activeIndex) {
            div.classList.add('completed');
          } else if (index === activeIndex) {
            div.classList.add('active');
            div.addEventListener('click', completeActiveTask);
          } else {
            div.classList.add('locked');
          }
          taskOptionsContainer.appendChild(div);
        });
        
        const prog = (activeIndex / 8) * 100;
        document.getElementById('progressBar').style.width = prog + "%";
        document.getElementById('progressText').innerText = Math.floor(prog) + "%";
      }
      
      function completeActiveTask() {
        if (currentRank === "Vakur") {
          vakurTaskCount++;
          let rozetKazanc = Math.floor(Math.random() * 3) + 1;
          blueBadgeCount += rozetKazanc;
        } else if (currentRank === "Hatip") {
          hatipTaskCount++;
          let rozetKazanc = Math.floor(Math.random() * 3) + 1;
          orangeBadgeCount += rozetKazanc;
          onur += rozetKazanc;
        } else if (currentRank === "Baron") {
          baronTaskCount++;
          let rozetKazanc = Math.floor(Math.random() * 3) + 1;
          redBadgeCount += rozetKazanc;
          let cashGain = Math.floor(Math.random() * (800 - 300 + 1)) + 300;
          money += cashGain;
          if (blueBadgeCount > 0) blueBadgeCount--;
        }
        
        if (currentRank === "Vakur" && vakurTaskCount >= 40 && !isHatipUnlocked) {
          isHatipUnlocked = true;
          document.getElementById('cardHatip').classList.remove('locked');
        }
        if (currentRank === "Hatip" && hatipTaskCount >= 40 && !isBaronUnlocked) {
          isBaronUnlocked = true;
          document.getElementById('cardBaron').classList.remove('locked');
        }
        
        updateStatBars();
        updateBadgesUI();
        updateMoneyUI();
        showNextTask();
      }
      
      function travelTo(village) {
        if (currentVillage === village) return;
        if (money < 500) {
          alert("Seyahat iÃ§in yeterli paranÄ±z yok!");
          return;
        }
        money -= 500;
        currentVillage = village;
        updateMoneyUI();
        updateProfileInfo();
        alert("Åimdi " + currentVillage + " kÃ¶yÃ¼ndesin!");
      }
      
      function updateInventoryUI() {
        const inventoryList = document.getElementById('inventoryList');
        inventoryList.innerHTML = "";
        // Ä°lgili envanter gÃ¼ncellemeleri (varsa)
        document.getElementById('ceteUyeSayisi').innerText = 0;
      }
      
      function toggleKoyPanelModal() { /* Modal iÅŸlemleri, eÄŸer varsa */ }
      
      // Basit oyunun diÄŸer fonksiyonlarÄ±nÄ± (draw, animation, vb.) buraya ekleyebilirsiniz.
      
      function updateButtonStates() { /* Gerekli gÃ¼ncellemeler */ }
      
      // BaÅŸlangÄ±Ã§ iÃ§in:
      updateStatBars();
      updateProfileInfo();
      updateMoneyUI();
      updateBadgesUI();
    </script>
  </div>

  <!-- 101 Okey Oyunu -->
  <div id="okeyGameContainer" class="game-container">
    <!-- Okey oyunu HTML Ã¶ÄŸeleri -->
    <div class="game-container">
      <div id="status">Loading Okey101...</div>
      <canvas id="gameCanvas"></canvas>
      <div id="controls">
        <button id="drawButton">Draw Tile</button>
        <button id="meldButton" disabled>Confirm Melds</button>
        <button id="undoButton" disabled>Undo Move</button>
        <button id="restartButton">New Game</button>
      </div>
    </div>
    <button class="btn" onclick="showMainMenu()">Ana MenÃ¼ye DÃ¶n</button>
    <!-- Okey oyunun JavaScript kodlarÄ± -->
    <script>
      // Okey101 - Traditional Tile Game code here.
      // (Bu Ã¶rnekte, orijinal Okey101 kodunun temel yapÄ±sÄ± yer almaktadÄ±r.)
      
      const canvas = document.getElementById('gameCanvas');
      const ctx = canvas.getContext('2d');
      const status = document.getElementById('status');
      const drawButton = document.getElementById('drawButton');
      const meldButton = document.getElementById('meldButton');
      const undoButton = document.getElementById('undoButton');
      const restartButton = document.getElementById('restartButton');
      
      canvas.width = 1000;
      canvas.height = 700;
      
      // Ã–rnek statÃ¼ gÃ¼ncellemesi
      status.textContent = "Welcome to 101 Okey!";
      
      // Okey oyunu iÃ§in gerekli diÄŸer deÄŸiÅŸkenler, tile sÄ±nÄ±fÄ±, fonksiyonlarÄ± vb. 
      // (DetaylÄ± Okey101 kodunu buraya ekleyebilirsiniz. Bu Ã¶rnek sadece temel iskelet niteliÄŸindedir.)
      
      drawButton.addEventListener('click', () => { 
          status.textContent = "Draw Tile clicked."; 
      });
      
      meldButton.addEventListener('click', () => { 
          status.textContent = "Confirm Melds clicked."; 
      });
      
      undoButton.addEventListener('click', () => { 
          status.textContent = "Undo Move clicked."; 
      });
      
      restartButton.addEventListener('click', () => { 
          status.textContent = "New Game clicked."; 
      });
    </script>
  </div>

  <!-- SABÄ°T BUTON GRUBU -->
  <div class="fixed-btn-group">
    <button class="btn" onclick="toggleBadgesModal()">Rozetlerim</button>
    <button class="btn hidden" id="marketBtn" onclick="toggleMarketModal()">Market</button>
    <button class="btn hidden" id="kumarhaneBtn" onclick="toggleKumarhaneModal()">Kumarhane</button>
  </div>

  <!-- MODALLER (Mafia oyunu iÃ§in: Ã–rneÄŸin Envanter vs.) -->
  <div class="modal-overlay" id="koyModal">
    <div class="modal">
      <button class="close-modal" onclick="toggleKoyPanelModal()">X</button>
      <h2>Envanter & Ã‡ete Bilgileri</h2>
      <h3>BulunduÄŸun KÃ¶y: <span id="currentVillageDisplay">Asman</span></h3>
      <div class="inventory-list" id="inventoryList"></div>
      <hr />
      <h3>Ã‡ete Ãœye SayÄ±sÄ±: <span id="ceteUyeSayisi">0</span></h3>
    </div>
  </div>
  <div class="modal-overlay" id="badgesModal">
    <div class="modal">
      <button class="close-modal" onclick="toggleBadgesModal()">X</button>
      <h2>Rozetlerim</h2>
      <div class="badge-row">
        <div class="badge-type">
          <div class="badge-blue">ğŸ…</div>
          <span class="blue-label" id="blueBadgeCount">0</span>
          <p>Vakur (Mavi)</p>
        </div>
        <div class="badge-type">
          <div class="badge-orange">ğŸ…</div>
          <span class="orange-label" id="orangeBadgeCount">0</span>
          <p>Hatip (Turuncu)</p>
        </div>
        <div class="badge-type">
          <div class="badge-red">ğŸ…</div>
          <span class="red-label" id="redBadgeCount">0</span>
          <p>Baron (KÄ±rmÄ±zÄ±)</p>
        </div>
      </div>
      <hr />
      <div class="bar-section">
        <div class="bar-title">Koruma (Vakur) ğŸ›¡ï¸</div>
        <div class="bar-container">
          <div class="bar-fill dayaniklik-bar" id="dayaniklikBar"></div>
        </div>
        <div class="bar-value">Koruma: <span id="korumaValue">0</span> (<span id="vakurYuzde">0</span>%)</div>
      </div>
      <div class="bar-section">
        <div class="bar-title">NÃ¼fus (Hatip) ğŸ‘¥</div>
        <div class="bar-container">
          <div class="bar-fill onur-bar" id="hatipBar"></div>
        </div>
        <div class="bar-value">NÃ¼fus: <span id="nufus">0</span> (<span id="hatipYuzde">0</span>%)</div>
      </div>
      <div class="bar-section lockedStat" id="baronStatDisplay">
        <div class="bar-title">Etki (Baron) â™›</div>
        <div class="bar-container">
          <div class="bar-fill" id="baronFill"></div>
        </div>
        <div class="bar-value">Etki: <span id="baronValue">0</span> (<span id="baronYuzde">0</span>%)</div>
      </div>
    </div>
  </div>
  <div class="modal-overlay" id="marketModal">
    <div class="modal">
      <button class="close-modal" onclick="toggleMarketModal()">X</button>
      <h2>Market</h2>
      <p>Baron gÃ¶revleri aktif olduÄŸunda satÄ±n alabilirsiniz:</p>
      <div class="market-item" id="koyItem">
        <div>KÃ¶y
