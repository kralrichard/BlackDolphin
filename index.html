<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Black Dolphine â€“ Mafia Oyunu</title>
  <style>
    :root {
      --bg-dark: #121212;
      --bg-light: #f4f4f4;
      --panel-dark: #1e1e1e;
      --accent-vakur: #1e90ff;
      --accent-hatip: #ffa500;
      --accent-baron: #ff4500;
      --text-light: #f4f4f4;
      --text-dark: #333;
      --bar-bg: #ccc;
    }
    * { margin:0; padding:0; box-sizing:border-box; font-family:'Segoe UI',sans-serif; }
    html, body { height:100%; }
    body { display:flex; overflow:hidden; background:var(--bg-light); color:var(--text-dark); }
    /* -------------------- SIDEBAR -------------------- */
    nav {
      width:220px;
      background:var(--panel-dark);
      color:var(--text-light);
      display:flex;
      flex-direction:column;
    }
    nav ul {
      list-style:none;
      overflow-y:auto;
      flex:1;
    }
    nav li a {
      display:block;
      padding:12px 20px;
      color:inherit;
      text-decoration:none;
      border-bottom:1px solid #333;
    }
    nav li a:hover,
    nav li a.active {
      background:var(--accent-vakur);
    }
    nav .locked {
      opacity:0.5;
      pointer-events:none;
    }
    nav .search {
      padding:10px;
    }
    nav .search input {
      width:100%;
      padding:8px;
      border:none;
      border-radius:4px;
    }
    /* -------------------- MAIN -------------------- */
    main {
      flex:1;
      display:flex;
      flex-direction:column;
      overflow-y:auto;
    }
    header {
      background:var(--bg-dark);
      color:var(--text-light);
      display:flex;
      justify-content:space-between;
      align-items:center;
      padding:0.5rem 1rem;
      flex-shrink:0;
    }
    .logo {
      font-size:1.4rem;
      font-weight:bold;
    }
    .balance {
      background:#222;
      padding:0.5rem 1rem;
      border-radius:4px;
      color:lime;
    }
    /* -------------------- RAILS -------------------- */
    .rail-container {
      position:relative;
      margin:1rem 0;
      flex-shrink:0;
    }
    .rail-label {
      position:absolute;
      top:-1.2rem;
      left:1rem;
      color:var(--text-dark);
      font-weight:bold;
    }
    .stations {
      display:flex;
      padding:0 1rem;
      margin-bottom:4px;
      flex-wrap:wrap;
    }
    .stations span {
      flex:1;
      text-align:center;
      font-size:0.75rem;
      color:var(--text-dark);
      cursor:pointer;
    }
    .stations span.visited {
      color:var(--accent-vakur);
      font-weight:bold;
    }
    canvas.rail {
      width:100%;
      height:60px;
    }
    /* -------------------- CENTER RANKS -------------------- */
    #centerRanks {
      display:flex;
      justify-content:center;
      gap:2rem;
      padding:1rem;
      flex-shrink:0;
    }
    .card {
      background:var(--panel-dark);
      color:var(--text-light);
      padding:1rem;
      border-radius:8px;
      text-align:center;
      width:120px;
      cursor:pointer;
    }
    .card.locked {
      opacity:0.5;
      pointer-events:none;
    }
    .card h2 {
      margin-bottom:0.5rem;
      text-transform:uppercase;
    }
    .card button {
      border:none;
      color:#fff;
      padding:0.5rem 1rem;
      border-radius:4px;
      cursor:pointer;
    }
    .card.vakur {
      background:var(--accent-vakur);
    }
    .card.hatip {
      background:var(--accent-hatip);
    }
    .card.baron {
      background:var(--accent-baron);
    }
    /* -------------------- OVERLAY / TASKS -------------------- */
    #overlay {
      position:fixed;
      top:0; left:0;
      width:100%; height:100%;
      background:rgba(0,0,0,0.7);
      display:none;
      align-items:center;
      justify-content:center;
    }
    #panel {
      background:var(--bg-light);
      width:90%; max-width:600px;
      max-height:80%; overflow-y:auto;
      border-radius:8px; padding:1rem;
      position:relative;
    }
    #closeBtn {
      position:absolute; top:0.5rem; right:0.5rem;
      background:var(--accent-vakur); border:none;
      color:#fff; padding:0.3rem 0.6rem;
      border-radius:4px; cursor:pointer;
    }
    .rankSection {
      margin-bottom:1rem;
    }
    .rankSection h3 {
      margin-bottom:0.5rem;
      color:var(--accent-vakur);
    }
    .taskItem {
      background:var(--bar-bg);
      padding:0.5rem;
      display:flex; justify-content:space-between;
      border-radius:4px; margin-bottom:0.3rem;
      align-items:center;
    }
    .taskItem.done {
      background:#a8e6cf;
    }
    .taskItem button {
      border:none; color:#fff;
      padding:0.3rem 0.6rem; border-radius:4px;
      cursor:pointer; background:var(--accent-vakur);
    }
    /* -------------------- STATUS BARS -------------------- */
    .status-bar {
      margin-bottom:1rem;
    }
    .status-bar .label {
      display:flex; align-items:center; gap:0.5rem;
      margin-bottom:0.3rem; font-weight:bold;
    }
    .status-bar .bar {
      background:var(--bar-bg); height:16px;
      border-radius:8px; overflow:hidden;
    }
    .status-bar .bar .fill {
      height:100%; width:0;
    }
    .vakur-fill  { background:gold; }
    .vakur-ros   { background:blue; }
    .hatip-fill  { background:purple; }
    .hatip-ros   { background:orange; }
    .baron-fill  { background:white; }
    .baron-ros   { background:red; }
    /* -------------------- PANELS -------------------- */
    aside {
      width:260px; background:var(--panel-dark);
      color:var(--text-light); overflow-y:auto;
      flex-shrink:0;
    }
    .panel {
      padding:20px; border-bottom:1px solid #333;
      display:none;
    }
    .panel.active {
      display:block;
    }
    .panel h3 {
      margin-bottom:10px;
      color:var(--accent-vakur);
    }
    .sub-tabs {
      display:flex; gap:8px; margin-bottom:10px;
      flex-wrap:wrap;
    }
    .sub-tabs button {
      background:#444; border:none;
      color:var(--text-light);
      padding:6px 10px; border-radius:4px;
      cursor:pointer;
    }
    .sub-tabs button.active {
      background:var(--accent-vakur);
    }
    .sub-content ul {
      list-style:none; max-height:200px;
      overflow-y:auto; padding-left:0;
    }
    .sub-content li {
      display:flex; justify-content:space-between;
      margin-bottom:6px;
    }
    .sub-content li button {
      background:var(--accent-vakur); border:none;
      color:#fff; padding:4px 8px; border-radius:4px;
      cursor:pointer;
    }
    /* -------------------- CHAT -------------------- */
    #chatBox {
      position:fixed; bottom:20px; left:50%;
      transform:translateX(-50%);
      width:60%; background:var(--panel-dark);
      color:var(--text-light); padding:10px;
      border-radius:8px; max-height:200px; overflow-y:auto;
    }
    #messageIcon {
      position:fixed; bottom:20px; right:20px;
      background:var(--accent-vakur); padding:10px;
      border-radius:50%; color:#fff; cursor:pointer;
    }
    /* -------------------- MOBILE -------------------- */
    @media(max-width:768px){
      nav,aside { width:100%; order:2; }
      nav ul { display:flex; flex-wrap:wrap; overflow-x:auto; }
      main { order:1; }
      header { justify-content:center; }
      .balance, .rail-container { display:none; }
      #centerRanks { flex-wrap:wrap; gap:1rem; }
      .panel { padding:10px; }
      #chatBox { width:90%; bottom:10px; }
      #messageIcon { bottom:10px; right:10px; }
    }
  </style>
</head>
<body>

  <!-- SIDEBAR -->
  <nav>
    <ul>
      <li><a href="#" onclick="togglePanel('durum')" class="active">Durumum</a></li>
      <li><a href="#" onclick="togglePanel('aile')">Ailem</a></li>
      <li><a href="#" onclick="togglePanel('tuccar')">TÃ¼ccar</a></li>
      <li><a href="#" onclick="togglePanel('mesajlar')">MesajlarÄ±m</a></li>
      <li><a href="#" onclick="togglePanel('avlan')">Avlan</a></li>
      <li><a href="#" onclick="togglePanel('acikArttirma')">AÃ§Ä±k ArttÄ±rma</a></li>
      <li><a href="#" onclick="togglePanel('kacak')">KaÃ§akÃ§Ä±lÄ±k</a></li>
      <li><a href="#" onclick="openTasks('Vakur')">Vakur GÃ¶revleri</a></li>
      <li><a href="#" onclick="openTasks('Hatip')" class="locked">Hatip GÃ¶revleri</a></li>
      <li><a href="#" onclick="openTasks('Baron')" class="locked">Baron GÃ¶revleri</a></li>
      <li><a href="#" onclick="togglePanel('atYarisi')">At YarÄ±ÅŸÄ±</a></li>
      <li><a href="#" onclick="togglePanel('atBilgiler')">At Bilgileri</a></li>
      <li><a href="#" onclick="togglePanel('oyunIci')">Oyun Ä°Ã§i Bilgiler</a></li>
      <li><a href="#" onclick="togglePanel('aranan')">Arananlar</a></li>
      <li><a href="#" onclick="togglePanel('oyunlar')">Oyunlar</a></li>
      <li><a href="#" onclick="togglePanel('koy')">KÃ¶y Ä°ncelemesi</a></li>
      <li><a href="#" onclick="togglePanel('tren')">Tren Seyahatleri</a></li>
    </ul>
    <div class="search"><input type="text" placeholder="KullanÄ±cÄ± ara..."></div>
  </nav>

  <!-- MAIN -->
  <main>
    <header>
      <div class="logo">BLACK DOLPHINE</div>
      <!-- BaÅŸlangÄ±Ã§ bakiyemiz -->
      <div class="balance" id="moneyDisplay">$500,000</div>
    </header>

    <!-- GidiÅŸ RotasÄ± I -->
    <div class="rail-container">
      <div class="rail-label">GidiÅŸ RotasÄ± I</div>
      <div class="stations" id="stationsOut1"></div>
      <canvas id="railOut1" class="rail"></canvas>
    </div>
    <!-- GidiÅŸ RotasÄ± II -->
    <div class="rail-container">
      <div class="rail-label">GidiÅŸ RotasÄ± II</div>
      <div class="stations" id="stationsOut2"></div>
      <canvas id="railOut2" class="rail"></canvas>
    </div>
    <!-- DÃ¶nÃ¼ÅŸ RotasÄ± I -->
    <div class="rail-container">
      <div class="rail-label return">DÃ¶nÃ¼ÅŸ RotasÄ± I</div>
      <div class="stations" id="stationsBack1"></div>
      <canvas id="railBack1" class="rail"></canvas>
    </div>
    <!-- DÃ¶nÃ¼ÅŸ RotasÄ± II -->
    <div class="rail-container">
      <div class="rail-label return">DÃ¶nÃ¼ÅŸ RotasÄ± II</div>
      <div class="stations" id="stationsBack2"></div>
      <canvas id="railBack2" class="rail"></canvas>
    </div>

    <!-- Center Ranks -->
    <div id="centerRanks">
      <div class="card vakur" id="cardVakur"><h2>VAKUR</h2><button onclick="openTasks('Vakur')">SerÃ¼ven</button></div>
      <div class="card hatip locked" id="cardHatip"><h2>HATÄ°P</h2><button onclick="openTasks('Hatip')">SerÃ¼ven</button></div>
      <div class="card baron locked" id="cardBaron"><h2>BARON</h2><button onclick="openTasks('Baron')">SerÃ¼ven</button></div>
    </div>
  </main>

  <!-- RIGHT PANEL -->
  <aside>
    <!-- Durum Paneli -->
    <div class="panel active" id="durumPanel">
      <h3>Durumum</h3>
      <!-- Vakur -->
      <div class="status-bar">
        <div class="label">ğŸ›¡ï¸ Vakur %<span id="vakurPct">0</span></div>
        <div class="bar"><div class="fill vakur-fill" id="vakurBar"></div></div>
      </div>
      <div class="status-bar">
        <div class="label">ğŸ… Vakur Rozet <span id="vakurRos">0</span></div>
        <div class="bar"><div class="fill vakur-ros" id="vakurRosBar"></div></div>
      </div>
      <!-- Hatip -->
      <div class="status-bar">
        <div class="label">ğŸ˜ï¸ Hatip %<span id="hatipPct">0</span></div>
        <div class="bar"><div class="fill hatip-fill" id="hatipBar"></div></div>
      </div>
      <div class="status-bar">
        <div class="label">ğŸ… Hatip Rozet <span id="hatipRos">0</span></div>
        <div class="bar"><div class="fill hatip-ros" id="hatipRosBar"></div></div>
      </div>
      <!-- Baron -->
      <div class="status-bar">
        <div class="label">âš¡ï¸ Baron %<span id="baronPct">0</span></div>
        <div class="bar"><div class="fill baron-fill" id="baronBar"></div></div>
      </div>
      <div class="status-bar">
        <div class="label">ğŸ… Baron Rozet <span id="baronRos">0</span></div>
        <div class="bar"><div class="fill baron-ros" id="baronRosBar"></div></div>
      </div>
    </div>

    <!-- KÃ¶y Ä°ncelemesi Paneli -->
    <div class="panel" id="koyPanel">
      <h3>KÃ¶y Ä°ncelemesi</h3>
      <p>Her kÃ¶y iÃ§in rastgele malikhane, villa ve sÄ±ÄŸÄ±nak sayÄ±sÄ± oluÅŸturmak iÃ§in butona tÄ±kla:</p>
      <button onclick="generateVillagesInfo()">Rastgele DaÄŸÄ±t</button>
      <div id="villagesInfo" style="margin-top:1rem;"></div>
    </div>

    <!-- Tren Seyahatleri Paneli -->
    <div class="panel" id="trenPanel">
      <h3>Tren Seyahatleri</h3>
      <!-- 5 sekme -->
      <div class="sub-tabs" id="trenTabs"></div>
      <!-- Sekme iÃ§eriÄŸi (kÃ¶y butonlarÄ±) -->
      <div id="trenContent"></div>
    </div>

    <!-- Ã–rnek diÄŸer paneller (boÅŸ) -->
    <div class="panel" id="ailePanel"><h3>Ailem</h3></div>
    <div class="panel" id="tuccarPanel"><h3>TÃ¼ccar</h3></div>
    <div class="panel" id="mesajlarPanel"><h3>MesajlarÄ±m</h3></div>
    <div class="panel" id="avlanPanel"><h3>Avlan</h3></div>
    <div class="panel" id="acikArttirmaPanel"><h3>AÃ§Ä±k ArttÄ±rma</h3></div>
    <div class="panel" id="kacakPanel"><h3>KaÃ§akÃ§Ä±lÄ±k</h3></div>
    <div class="panel" id="atYarisiPanel"><h3>At YarÄ±ÅŸÄ±</h3></div>
    <div class="panel" id="atBilgilerPanel"><h3>At Bilgileri</h3></div>
    <div class="panel" id="oyunIciPanel"><h3>Oyun Ä°Ã§i Bilgiler</h3></div>
    <div class="panel" id="arananPanel"><h3>Arananlar</h3></div>
    <div class="panel" id="oyunlarPanel"><h3>Oyunlar</h3></div>
  </aside>

  <!-- TASK MODAL -->
  <div id="overlay" onclick="closeTasks()">
    <div id="panel" onclick="event.stopPropagation()">
      <button id="closeBtn" onclick="closeTasks()">âœ–</button>
      <h2 id="taskHeader"></h2>
      <div id="taskSections"></div>
    </div>
  </div>

  <!-- CHAT -->
  <div id="chatBox" contenteditable="true">CHAT baÅŸlÄ±yor...</div>
  <div id="messageIcon">ğŸ“©</div>

  <script>
    // --------------------------------------------------
    // GLOBAL DEÄÄ°ÅKENLER
    // --------------------------------------------------
    let playerMoney = 500000; // BaÅŸlangÄ±Ã§ para

    // --------------------------------------------------
    // KÃ–Y LÄ°STESÄ° & TREN Ã‡Ä°ZÄ°MLERÄ°
    // --------------------------------------------------
    // KÃ¶y listesi (40 adet)
    const villages = [
      "Asman","Mizrin","Qeruk","TwÄ±lveser","Ashma","Ogean","Karuk","Tilkarut",
      "Midep","Emerk","Tilal","Olik","MÄ±shecerk","MÄ±zelb","KergÃ¼","CinnÄ±k",
      "Masucark","KÄ±rÄ±kan","Kuzluk","Qeremsal","MedÄ±rbaz","Hecuk","ZebeÅŸker","MirÄŸan",
      "Dideri","KazÄ±ka","Nehlnehli","Birdirej","Cembel","Mizar","Tihonek","Giregewr",
      "Keferqub","Marut","Avamur","BubÄ±k","AÅŸme","OÄŸan","Mirxan","Thashluk"
    ];

    // Ä°ki gidiÅŸ, iki dÃ¶nÃ¼ÅŸ iÃ§in 20'ÅŸer
    const out1 = villages.slice(0,20),
          out2 = villages.slice(20,40);

    function drawRail(id,color1,color2){
      const c = document.getElementById(id), ctx = c.getContext('2d');
      c.width = c.offsetWidth; c.height = c.offsetHeight;
      ctx.strokeStyle = color1; ctx.lineWidth = 4;
      ctx.beginPath(); 
      ctx.moveTo(0,c.height/2); 
      ctx.lineTo(c.width,c.height/2); 
      ctx.stroke();
      ctx.strokeStyle = color2; 
      ctx.lineWidth = 2;
      for(let i=1;i<=20;i++){
        const x = c.width * i/21;
        ctx.beginPath(); 
        ctx.moveTo(x,c.height/2-10); 
        ctx.lineTo(x,c.height/2+10); 
        ctx.stroke();
      }
    }

    function populateStations(containerId,array){
      const cont = document.getElementById(containerId);
      cont.innerHTML = '';
      array.forEach(v=>{
        const sp = document.createElement('span');
        sp.innerText = v;
        sp.onclick = ()=>travelTo(v);
        cont.appendChild(sp);
      });
    }

    // "Tren rotasÄ±ndaki" seyahat (eski Ã¶rnek)
    function travelTo(v){
      document.querySelectorAll('.stations span').forEach(sp=>{
        sp.classList.toggle('visited', sp.innerText===v);
      });
      alert(v+' kÃ¶yÃ¼ne gittiniz!');
    }

    // --------------------------------------------------
    // SAYFA YÃœKLENDÄ°ÄÄ°NDE INIT
    // --------------------------------------------------
    window.onload = ()=>{
      // Ray Ã§izimleri
      drawRail('railOut1','#555',getComputedStyle(document.documentElement).getPropertyValue('--accent-vakur'));
      drawRail('railOut2','#555',getComputedStyle(document.documentElement).getPropertyValue('--accent-vakur'));
      drawRail('railBack1','#555',getComputedStyle(document.documentElement).getPropertyValue('--accent-baron'));
      drawRail('railBack2','#555',getComputedStyle(document.documentElement).getPropertyValue('--accent-baron'));

      // Stations doldur
      populateStations('stationsOut1',out1);
      populateStations('stationsOut2',out2);
      populateStations('stationsBack1',out1);
      populateStations('stationsBack2',out2);

      // Tren panelini ve KÃ¶y Ä°ncelemesi panelini baÅŸlat
      initTrainPanel();
      updateMoneyDisplay(); 
    };

    window.onresize = ()=>{
      drawRail('railOut1','#555',getComputedStyle(document.documentElement).getPropertyValue('--accent-vakur'));
      drawRail('railOut2','#555',getComputedStyle(document.documentElement).getPropertyValue('--accent-vakur'));
      drawRail('railBack1','#555',getComputedStyle(document.documentElement).getPropertyValue('--accent-baron'));
      drawRail('railBack2','#555',getComputedStyle(document.documentElement).getPropertyValue('--accent-baron'));
    };

    // --------------------------------------------------
    // PARA GÃœNCELLEME
    // --------------------------------------------------
    function updateMoneyDisplay(){
      // Kalan parayÄ± gÃ¶ster
      const el = document.getElementById('moneyDisplay');
      el.textContent = `$${playerMoney.toLocaleString()}`;
    }

    // --------------------------------------------------
    // KÃ–Y Ä°NCELEMESÄ°
    // --------------------------------------------------
    function generateVillagesInfo(){
      // Her kÃ¶y iÃ§in rastgele 5/10/15 - 25/50/75 - 50/75/100
      const malOptions = [5,10,15];
      const villaOptions = [25,50,75];
      const sigOptions = [50,75,100];

      let html = `<table border="1" cellpadding="6" style="border-collapse:collapse;width:100%;">
        <thead>
          <tr style="background:#ccc;">
            <th>KÃ¶y</th>
            <th>Malikhane</th>
            <th>Villa</th>
            <th>SÄ±ÄŸÄ±nak</th>
          </tr>
        </thead>
        <tbody>`;

      villages.forEach(v=>{
        const mal = malOptions[Math.floor(Math.random()*malOptions.length)];
        const vil = villaOptions[Math.floor(Math.random()*villaOptions.length)];
        const sig = sigOptions[Math.floor(Math.random()*sigOptions.length)];

        html += `
          <tr>
            <td>${v}</td>
            <td>${mal}</td>
            <td>${vil}</td>
            <td>${sig}</td>
          </tr>
        `;
      });

      html += `</tbody></table>`;
      document.getElementById("villagesInfo").innerHTML = html;
    }

    // --------------------------------------------------
    // TREN SEYAHATLARI (5 sekme x 8 kÃ¶y)
    // --------------------------------------------------
    function initTrainPanel(){
      const trenTabs = document.getElementById("trenTabs");
      const trenContent = document.getElementById("trenContent");

      // 5 sekme
      for(let i=0; i<5; i++){
        const btn = document.createElement("button");
        btn.textContent = `Tren ${i+1}`;
        btn.onclick = ()=>{
          // Sekme gÃ¶rÃ¼nÃ¼mÃ¼
          document.querySelectorAll("#trenTabs button").forEach(b=>b.classList.remove("active"));
          btn.classList.add("active");

          // Her sekmede 8 kÃ¶y
          renderTrainSection(i);
        };
        // Ä°lk sekmeye aktif klas ekle (0. sekme)
        if(i===0) btn.classList.add("active");
        trenTabs.appendChild(btn);
      }

      // Ä°lk sekmenin iÃ§eriÄŸini gÃ¶sterelim
      renderTrainSection(0);

      // Asman'Ä± yeÅŸil (seyahat edilmiÅŸ) iÅŸaretlemek iÃ§in
      traveledVillages.add("Asman"); 
    }

    // Seyahat edilen kÃ¶yleri saklamak iÃ§in Set yapÄ±sÄ±
    const traveledVillages = new Set();

    function renderTrainSection(tabIndex){
      const trenContent = document.getElementById("trenContent");
      trenContent.innerHTML = "";

      // Bu sekmenin kÃ¶yleri (8 adet)
      // 5 sekme x 8 kÃ¶y = 40 kÃ¶y
      const start = tabIndex * 8;
      const end = start + 8;
      const subset = villages.slice(start, end);

      // Ekrana buton ÅŸeklinde koy
      subset.forEach(koy => {
        const btn = document.createElement("button");
        btn.style.display = "inline-block";
        btn.style.margin = "5px";
        btn.textContent = koy;

        // EÄŸer kÃ¶ye Ã¶nceden seyahat edilmiÅŸse yeÅŸil gÃ¶ster
        if(traveledVillages.has(koy)){
          btn.style.background = "green";
          btn.disabled = true;
        } else {
          btn.style.background = "#444";
        }

        // TÄ±klanÄ±rsa seyahat
        btn.onclick = ()=>{
          // 500 dolar kes
          if(playerMoney >= 500){
            playerMoney -= 500;
            updateMoneyDisplay();

            traveledVillages.add(koy);
            btn.style.background = "green";
            btn.disabled = true;
            alert(koy + " kÃ¶yÃ¼ne tren ile seyahat edildi. $500 kesildi.");
          } else {
            alert("Yeterli bakiyeniz yok!");
          }
        };
        trenContent.appendChild(btn);
      });
    }

    // --------------------------------------------------
    // GÃ–REV DATALARI (Vakur, Hatip, Baron)
    // --------------------------------------------------
    const vakurDifficulties = [
      {
        title: "Ã‡IRAK VAKUR I", locked: false,
        tasks: [
          "Bir Ã§ocuÄŸun okul Ã§antasÄ± almasÄ±na yardÄ±mcÄ± ol.",
          "Mahalledeki yaÅŸlÄ± bir komÅŸunun alÄ±ÅŸveriÅŸ poÅŸetlerini taÅŸÄ±.",
          "Sokaktaki sahipsiz bir kÃ¶pek iÃ§in su ve mama koy.",
          "ArkadaÅŸÄ±na ufak bir hediye vererek moralini yÃ¼kselt.",
          "Ä°ÅŸsiz bir tanÄ±dÄ±ÄŸÄ±na CV hazÄ±rlama konusunda destek ol.",
          "KÃ¼tÃ¼phanede eski kitaplarÄ± dÃ¼zenlemeye gÃ¶nÃ¼llÃ¼ ol.",
          "Bir hayÄ±r kurumuna ufak bir baÄŸÄ±ÅŸ yap veya yardÄ±m topla.",
          "OtobÃ¼ste yaÅŸlÄ± veya hamile birine yer ver.",
          "Mahalle parkÄ±nda Ã§Ã¶p toplama etkinliÄŸine katÄ±l.",
          "ArkadaÅŸÄ±na kÃ¼Ã§Ã¼k bir sÃ¼rpriz parti dÃ¼zenle."
        ].map(t => ({ text: t, done: false }))
      },
      {
        title: "USTA VAKUR II", locked: true,
        tasks: [
          "Aile iÃ§inde tartÄ±ÅŸan iki akrabayÄ± barÄ±ÅŸtÄ±r.",
          "Mahallede yardÄ±m kermesi veya etkinlik organize et.",
          "Maddi durumu kÃ¶tÃ¼ bir Ã¶ÄŸrenciye burs ayarla.",
          "Bir STKâ€™nÄ±n etkinliÄŸinde aktif rol al.",
          "BakÄ±msÄ±z parkÄ± onarmak iÃ§in gÃ¶nÃ¼llÃ¼ler topla.",
          "Kan baÄŸÄ±ÅŸÄ± kampanyasÄ±na katkÄ±da bulun.",
          "Bir arkadaÅŸÄ±n iÃ§in profesyonel yardÄ±m aracÄ±lÄ±ÄŸÄ± yap.",
          "ZorbalÄ±ÄŸa uÄŸrayan birine Ã§evrimiÃ§i destek bul.",
          "Engelliler iÃ§in kamu binalarÄ±na eriÅŸim kolaylÄ±ÄŸÄ± saÄŸla.",
          "Sokak hayvanlarÄ± iÃ§in geÃ§ici barÄ±nak oluÅŸtur."
        ].map(t => ({ text: t, done: false }))
      },
      {
        title: "UZMAN VAKUR III", locked: true,
        tasks: [
          "Afet bÃ¶lgesine yardÄ±m ekibi olarak katÄ±l.",
          "Kronik bir sorun iÃ§in belediyeyle gÃ¶rÃ¼ÅŸÃ¼p Ã§Ã¶zÃ¼m talep et.",
          "Zor durumdaki aileye iÅŸ veya barÄ±nma imkÃ¢nÄ± saÄŸla.",
          "Hayvan barÄ±naÄŸÄ±nda kapsamlÄ± bakÄ±m ve temizlik yap.",
          "KÃ¼s olan iki arkadaÅŸÄ±n barÄ±ÅŸmasÄ±na aracÄ±lÄ±k et.",
          "Toplum dÄ±ÅŸlanmÄ±ÅŸ birini etkinliklere dahil et.",
          "KÃ¼Ã§Ã¼k Ã§aplÄ± baÄŸÄ±ÅŸ kampanyasÄ± dÃ¼zenle.",
          "Yerel hastanede gÃ¶nÃ¼llÃ¼ refakat programÄ±na katÄ±l.",
          "Belediye ile iÅŸ birliÄŸi yaparak genÃ§lik merkezi aÃ§.",
          "Maddi sÄ±kÄ±ntÄ± yaÅŸayan aileler iÃ§in erzak paketi daÄŸÄ±tÄ±mÄ± yap."
        ].map(t => ({ text: t, done: false }))
      },
      {
        title: "EFSANE VAKUR IV", locked: true,
        tasks: [
          "BÃ¼yÃ¼k Ã¶lÃ§ekli yardÄ±m projesine liderlik et.",
          "GenÃ§lere yÃ¶nelik mentorluk programÄ± baÅŸlat.",
          "Meslek edindirme kursu organize et.",
          "Toplumsal soruna belediye-STK ortaklÄ±ÄŸÄ±yla Ã§Ã¶zÃ¼m Ã¼ret.",
          "GÃ¶nÃ¼llÃ¼ ekibi kurarak yaÅŸlÄ± bakÄ±mevlerini ziyaret et.",
          "Okullarda 'empati ve yardÄ±mseverlik' semineri dÃ¼zenle.",
          "Sosyal medya kampanyasÄ±yla yardÄ±m toplama etkinliÄŸi dÃ¼zenle.",
          "Ãœcretsiz terapi/rehberlik gÃ¼nÃ¼ organize et.",
          "Ãœniversite Ã¶ÄŸrencilerine staj imkÃ¢nlarÄ± sunan platform oluÅŸtur.",
          "Ã‡evre koruma amaÃ§lÄ± aÄŸaÃ§landÄ±rma kampanyasÄ± dÃ¼zenle."
        ].map(t => ({ text: t, done: false }))
      },
      {
        title: "YÃœCE VAKUR V", locked: true,
        tasks: ([
          "Ulusal Ã§apta sosyal sorumluluk projesi yÃ¼rÃ¼t.",
          "BÃ¼yÃ¼k baÄŸÄ±ÅŸ konseri/festival dÃ¼zenle.",
          "GÃ¶nÃ¼llÃ¼leri bir araya getiren platform kur.",
          "EÄŸitim bursu fonu baÅŸlat.",
          "Aile iÃ§i ÅŸiddete koruma ve rehabilitasyon hizmeti oluÅŸtur.",
          "YardÄ±m vakfÄ± kurarak sÃ¼rekli yardÄ±m yÃ¼rÃ¼t.",
          "UluslararasÄ± STKâ€™lerle iÅŸ birliÄŸi yaparak yurt dÄ±ÅŸÄ±na yardÄ±m taÅŸÄ±.",
          "Yurt Ã§apÄ±nda geri dÃ¶nÃ¼ÅŸÃ¼m projesi baÅŸlat.",
          "DezavantajlÄ± bÃ¶lgeler iÃ§in uzaktan eÄŸitim altyapÄ±sÄ± kur.",
          "SaÄŸlÄ±k hizmetleri alamayan bÃ¶lgelere mobil saÄŸlÄ±k aracÄ± gÃ¶nder."
        ]).map(t => ({ text: t, done: false }))
        .concat([{ text:"ğŸ–ï¸ Tebrikler! Vakur oldunuz! Ana menÃ¼ye dÃ¶nÃ¼yorsunuz.", done: false, hidden: true }])
      }
    ];

    const hatipDifficulties = [
      {
        title: "Ã‡IRAK HATÄ°P I", locked: false,
        tasks: [
          "Sokak kavgasÄ±nÄ± tatlÄ± dille sakinleÅŸtir.",
          "ArkadaÅŸlar arasÄ±ndaki tartÄ±ÅŸmayÄ± yapÄ±cÄ± sÃ¶zlerle Ã§Ã¶z.",
          "Aile iÃ§i gerginliÄŸi dinleyerek gider.",
          "Sosyal medyada tartÄ±ÅŸmayÄ± tatlÄ±ya baÄŸla.",
          "YanlÄ±ÅŸ bilgiyi doÄŸru kaynakla dÃ¼zelt.",
          "Dedikoduyu kaynaÄŸÄ±ndan Ã§Ã¼rÃ¼terek sakinleÅŸtir.",
          "Okul/kulÃ¼p etkinliÄŸinde kÄ±sa konuÅŸma yap.",
          "Ufak grupta hitabet pratiÄŸi yap.",
          "ArkadaÅŸ grubuna moral verici konuÅŸma yap.",
          "Sosyal medya Ã¼zerinden kÃ¼Ã§Ã¼k bilgilendirici yayÄ±n dÃ¼zenle."
        ].map(t => ({ text: t, done: false }))
      },
      {
        title: "USTA HATÄ°P II", locked: true,
        tasks: [
          "KomÅŸular arasÄ±ndaki sorunu toplantÄ± ile Ã§Ã¶z.",
          "Ä°ÅŸ yerindeki iletiÅŸim kopukluÄŸunu arabuluculuk yaparak gider.",
          "Yerel hayÄ±r kurumuna baÄŸÄ±ÅŸ toplamak iÃ§in ikna et.",
          "KÃ¼Ã§Ã¼k Ã¶ÄŸrenci grubuna hitabet eÄŸitimi dÃ¼zenle.",
          "Aile ÅŸirketinde tartÄ±ÅŸmada hakemlik yap.",
          "Sivil toplum giriÅŸiminde gÃ¶nÃ¼llÃ¼ konuÅŸmacÄ± ol.",
          "Mahalle muhtarÄ±yla imza kampanyasÄ± baÅŸlat.",
          "GÃ¶nÃ¼llÃ¼ ekiple sokak sanatÃ§Ä±larÄ±na destek saÄŸla.",
          "Mahallede Ã§evre bilinci semineri dÃ¼zenle.",
          "GenÃ§lere yÃ¶nelik kÃ¼Ã§Ã¼k mÃ¼nazara yarÄ±ÅŸmalarÄ± organize et."
        ].map(t => ({ text: t, done: false }))
      },
      {
        title: "UZMAN HATÄ°P III", locked: true,
        tasks: [
          "Ä°ki rakip grubu bir araya getirip barÄ±ÅŸ gÃ¶rÃ¼ÅŸmesi yap.",
          "Ulusal platformda toplumsal bir konuda konuÅŸ.",
          "BÃ¼yÃ¼k iÅŸ anlaÅŸmazlÄ±ÄŸÄ±nda arabulucu rol Ã¼stlen.",
          "Mahalle halkÄ±nÄ±n taleplerini dile getirip sonuÃ§ al.",
          "Ãœniversite protestosunu uzlaÅŸma yoluyla sonlandÄ±r.",
          "Esnaf arasÄ±ndaki fiyat anlaÅŸmazlÄ±ÄŸÄ±nÄ± uzlaÅŸtÄ±r.",
          "Binlerce kiÅŸilik tartÄ±ÅŸmayÄ± sakinleÅŸtir.",
          "Sivil toplum zirvesinde temsilci olarak konuÅŸ.",
          "Yerel basÄ±nda toplumsal sorunlar Ã¼zerine kÃ¶ÅŸe yazÄ±sÄ± yayÄ±nla.",
          "Ä°ÅŸsizlere yÃ¶nelik motivasyon konuÅŸmasÄ± gerÃ§ekleÅŸtir."
        ].map(t => ({ text: t, done: false }))
      },
      {
        title: "EFSANE HATÄ°P IV", locked: true,
        tasks: [
          "BÃ¶lgesel toplum hareketine Ã¶nderlik et.",
          "Ulusal konferansta Ã§Ã¶zÃ¼m Ã¶nerileri sun.",
          "Yerel siyasetÃ§iler ve STKâ€™ler arasÄ±nda diyaloÄŸu gÃ¼Ã§lendir.",
          "BarÄ±ÅŸ Ã§alÄ±ÅŸtayÄ±nda moderatÃ¶rlÃ¼k yap.",
          "Kurumsal ÅŸirkette Ã¼st dÃ¼zey mÃ¼zakerelerde bulun.",
          "Mahalle gerginliÄŸini uzlaÅŸÄ± belgesiyle sonlandÄ±r.",
          "Åehrin Ã¶nde gelenleriyle bÃ¼yÃ¼k kampanya dÃ¼zenle.",
          "Ãœniversitede 'BarÄ±ÅŸÃ§Ä±l Ä°letiÅŸim ve Diplomasi' dersi ver.",
          "Kamu kurumlarÄ±nda iletiÅŸim eÄŸitimi ver.",
          "Åiddetsiz iletiÅŸim Ã¼zerine farkÄ±ndalÄ±k kampanyasÄ± baÅŸlat."
        ].map(t => ({ text: t, done: false }))
      },
      {
        title: "YÃœCE HATÄ°P V", locked: true,
        tasks: ([
          "Yerel topluluklarda barÄ±ÅŸ kÃ¼ltÃ¼rÃ¼ aÅŸÄ±la.",
          "Sosyal medya Ã¼zerinden olumlu mesajlar yay.",
          "Yerel liderlerle yakÄ±n iÅŸbirliÄŸi kur.",
          "Eski Ã§atÄ±ÅŸmalarÄ± unut, yeni baÅŸlangÄ±Ã§lar yap.",
          "Kriz zamanlarÄ±nda destek aÄŸÄ± oluÅŸtur.",
          "Halk arasÄ±nda iletiÅŸimi gÃ¼Ã§lendir.",
          "BarÄ±ÅŸ temalÄ± etkinlikler dÃ¼zenle.",
          "Toplumu huzura kavuÅŸturan projeler geliÅŸtir.",
          "Mafya aileleri arasÄ±nda dayanÄ±ÅŸmayÄ± saÄŸla.",
          "Etkinliklerle sosyal dengeyi koru."
        ]).map(t => ({ text: t, done: false }))
        .concat([{ text:"ğŸ–ï¸ Tebrikler! Hatip oldunuz! Ana menÃ¼ye dÃ¶nÃ¼yorsunuz.", done: false, hidden: true }])
      }
    ];

    const baronDifficulties = [
      {
        title: "Ã‡IRAK BARON I", locked: false,
        tasks: [
          "Ufak Ã§apta uyuÅŸturucu satmayÄ± dene.",
          "Mahallede kÃ¼Ã§Ã¼k 'koruma Ã¼creti' topla.",
          "Kafe/mekÃ¢ndan ufak haraÃ§ iste.",
          "Sokak satÄ±cÄ±larÄ± arasÄ±nda rekabeti lehine Ã§evir.",
          "Sahte marka Ã¼rÃ¼nlerin satÄ±ÅŸ aÄŸÄ±nÄ± oluÅŸtur.",
          "Åantaj veya tehditle rakibi sustur.",
          "Ufak Ã§etenin desteÄŸiyle 'gÃ¼venlik' saÄŸlandÄ±ÄŸÄ±nÄ± iddia et.",
          "KaÃ§ak iÃ§ki satÄ±ÅŸÄ± yapan ekibe arka Ã§Ä±k.",
          "Mahallede gizli bilgi toplama operasyonu dÃ¼zenle.",
          "Rakip kÃ¼Ã§Ã¼k Ã§ete operasyonlarÄ±nÄ± sabote et."
        ].map(t => ({ text: t, done: false }))
      },
      {
        title: "USTA BARON II", locked: true,
        tasks: [
          "Esnaftan dÃ¼zenli 'koruma parasÄ±' toplamaya baÅŸla.",
          "Polis/memurlarla rÃ¼ÅŸvet baÄŸlantÄ±sÄ± kur.",
          "YasadÄ±ÅŸÄ± kumar organizasyonu baÅŸlat.",
          "Rakip Ã§eteyle gerginliÄŸi lehine Ã§Ã¶z.",
          "Silah veya uyuÅŸturucu sevkiyatÄ±na lojistik destek ver.",
          "Yasa dÄ±ÅŸÄ± bahis mekanlarÄ±yla anlaÅŸ.",
          "Kara para aklama iÃ§in kÃ¼Ã§Ã¼k sermaye oluÅŸtur.",
          "Gece kulÃ¼bÃ¼nÃ¼n 'gizli ortak' statÃ¼sÃ¼nÃ¼ al.",
          "Yerel medyada yalan haberler yayÄ±p rakip imajÄ±nÄ± zedele.",
          "Rakip operasyonlarÄ±na ince mÃ¼dahaleler yaparak zayÄ±flÄ±klarÄ± ortaya Ã§Ä±kar."
        ].map(t => ({ text: t, done: false }))
      },
      {
        title: "UZMAN BARON III", locked: true,
        tasks: [
          "Orta Ã¶lÃ§ekli uyuÅŸturucu aÄŸÄ±nda distribÃ¼tÃ¶rlÃ¼ÄŸÃ¼ ele al.",
          "Rakip baronun iÅŸ anlaÅŸmasÄ±na sÄ±zÄ±p bilgileri Ã§al.",
          "Polis ve siyasi baÄŸlantÄ±larÄ± gÃ¼Ã§lendir.",
          "BÃ¼yÃ¼k kazanÃ§ saÄŸlayacak silah sevkiyatÄ± organize et.",
          "Gece kulÃ¼plerinde yatÄ±rÄ±mÄ±n tekeli olsun.",
          "Rakip Ã§etenin liderini korkutarak saflarÄ±na katÄ±l.",
          "Beyaz yakalÄ± iÅŸ Ã§evresinde kara para aklamayÄ± geniÅŸlet.",
          "Orta dÃ¼zey siyasetÃ§ilere fon saÄŸlayarak nÃ¼fuzunu arttÄ±r.",
          "Rakip Ã§etenin Ã¼slerini gizlice ele geÃ§ir.",
          "Organize suikast giriÅŸimleri dÃ¼zenleyerek rakip liderleri sars."
        ].map(t => ({ text: t, done: false }))
      },
      {
        title: "EFSANE BARON IV", locked: true,
        tasks: [
          "Mafya Aileleri ArasÄ± BarÄ±ÅŸÄ± SaÄŸla",
          "12 AÅŸiret KavgasÄ±nÄ± UzlaÅŸtÄ±r",
          "Ã‡atÄ±ÅŸan Taraflar ArasÄ±nda Arabuluculuk Yap",
          "Kriz YÃ¶netimi Ä°Ã§in ToplantÄ± DÃ¼zenle",
          "Ä°ttifaklar Kurarak Denge SaÄŸla",
          "Gizli MÃ¼zakere KanallarÄ± OluÅŸtur",
          "Eski Husumetleri Gidererek Yeni Ä°ttifaklar Kur",
          "Ani Gerilimlerde SoÄŸukkanlÄ± MÃ¼dahale Et",
          "KapsamlÄ± Ä°ttifak Ã‡alÄ±ÅŸmalarÄ± YÃ¼rÃ¼t",
          "SÃ¼rekli BarÄ±ÅŸ SÃ¼reÃ§lerini Organize Et"
        ].map(t => ({ text: t, done: false }))
      },
      {
        title: "YÃœCE BARON V", locked: true,
        tasks: ([
          "KÃ¼resel Ã§apta eÄŸitim reformlarÄ±nÄ± destekleyen vakÄ±f kur ve finanse et.",
          "Prestijli Ã¼niversitelerin kampÃ¼s inÅŸaatlarÄ±na yatÄ±rÄ±m yap.",
          "Ãœst dÃ¼zey bilimsel araÅŸtÄ±rmalara mali destek saÄŸla.",
          "KÃ¼resel saÄŸlÄ±k fonlarÄ± kurarak saÄŸlÄ±k sistemlerini destekle.",
          "Protez bacak ve saÄŸlÄ±k ekipmanlarÄ± Ã¼retimine bÃ¼yÃ¼k yatÄ±rÄ±m yap.",
          "DÃ¼nya genelinde mafya zirvesine katÄ±larak temsilcilik yap.",
          "Yurt dÄ±ÅŸÄ± yatÄ±rÄ±mlarÄ±nÄ± yÃ¶net.",
          "UluslararasÄ± kaÃ§akÃ§Ä±lÄ±k aÄŸÄ±nÄ±n liderliÄŸini devral.",
          "Kumarhane zinciri ve malikÃ¢ne sahibi ol.",
          "DÃ¼nya genelinde mafya zirvesine katÄ±larak temsilcilik yap."
        ]).map(t => ({ text: t, done: false }))
        .concat([{ text:"ğŸ–ï¸ Tebrikler! TÃ¼m gÃ¶revleri tamamladÄ±nÄ±z!", done: false, hidden: true }])
      }
    ];

    // --------------------------------------------------
    // OPEN/CLOSE TASKS FONKSÄ°YONLARI
    // --------------------------------------------------
    const difficultiesMap = {
      Vakur: vakurDifficulties,
      Hatip: hatipDifficulties,
      Baron: baronDifficulties
    };

    function openTasks(rank) {
      document.getElementById('overlay').style.display = 'flex';
      document.getElementById('taskHeader').textContent = rank + " GÃ¶revleri";

      const container = document.getElementById('taskSections');
      container.innerHTML = "";  // Ã¶nce temizliyoruz

      // Ä°lgili rank dizisindeki her bÃ¶lÃ¼m
      difficultiesMap[rank].forEach((difficulty) => {
        const section = document.createElement('div');
        section.className = 'rankSection';

        const h3 = document.createElement('h3');
        h3.textContent = difficulty.title + (difficulty.locked ? " (Kilitli)" : "");
        section.appendChild(h3);

        difficulty.tasks.forEach((tsk) => {
          const div = document.createElement('div');
          div.className = 'taskItem' + (tsk.done ? ' done' : '');
          // EÄŸer "hidden" Ã¶zelliÄŸi varsa normalde gÃ¶revde gÃ¶sterilmeyecek;
          // ama istersen bu if ile gizleyebilirsin:
          if(tsk.hidden) {
            // Ã–rn. final mesajÄ±. Yine de listede gÃ¶stersin dersen, yoruma al.
            // return;
          }
          div.innerHTML = `
            <span>${tsk.text}</span>
            <button>${tsk.done ? 'YapÄ±ldÄ±' : 'Yap'}</button>
          `;
          section.appendChild(div);
        });

        container.appendChild(section);
      });
    }

    function closeTasks() {
      document.getElementById('overlay').style.display = 'none';
    }

    // --------------------------------------------------
    // PANEL GÃ–STERME / GÄ°ZLEME (Ã–rnek)
    // --------------------------------------------------
    function togglePanel(panelId) {
      const allPanels = document.querySelectorAll('.panel');
      allPanels.forEach(p => p.classList.remove('active'));

      const targetPanel = document.getElementById(panelId+'Panel');
      if (targetPanel) {
        targetPanel.classList.add('active');
      }
    }
  </script>
</body>
</html>
